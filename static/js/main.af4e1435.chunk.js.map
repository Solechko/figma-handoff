{"version":3,"sources":["page/entry/qrcode.jpg","page/right/multi-styles.gif","utils/helper.js","i18n.js","contexts/GlobalContext.js","components/icons/style.js","components/icons/text.js","utils/const.js","contexts/SettingsContext.js","components/utilities/WithTooltip.js","components/utilities/WithCopy.js","components/utilities/InputGroup.js","components/utilities/CopiableInput.js","components/utilities/CollapseButton.js","page/entry/ProductHunt.js","page/entry/LangSetting.js","api/index.js","utils/gtag.js","page/entry/index.js","page/left/FrameSelector.js","page/left/Frames.js","page/left/Components.js","page/left/index.js","utils/mark.js","utils/style.js","page/right/items/Color.js","page/right/items/FillItem.js","page/right/items/EffectItem.js","page/right/items/TextItems.js","page/right/items/ExportItem.js","page/right/items/Preview.js","page/right/items/StyleItem.js","page/right/items/ColorFormatSelect.js","page/right/RightStyles.js","page/right/StyleReference.js","page/right/PieceWithCopy.js","page/right/FontPanel.js","utils/text.js","page/right/RightProps.js","page/right/StyleDetail.js","page/right/index.js","page/canvas/Distance.js","page/canvas/Dimension.js","page/canvas/Ruler.js","page/canvas/index.js","page/canvas/canvasWrapper.js","page/Main.js","page/header/Overlay.js","page/header/Settings/Mark.js","page/header/Settings/index.js","page/header/Changelog.js","page/header/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","isCmdOrCtrl","e","navigator","platform","match","metaKey","ctrlKey","getPagedFrames","data","pagedFrames","document","children","map","page","id","isCollapsed","checked","name","frames","filter","frame","type","visible","reverse","getSelectedPagedFrames","finalFrames","Object","keys","pageId","checkedFrames","length","getFrameOptions","options","push","label","value","filterFrameOptions","frameOptions","p","pageContainsValue","toLowerCase","indexOf","frameContainsValue","some","f","targetedChildren","walkFile","fileData","includeComponents","framesIds","styles","components","isFromPlugin","finalStyles","finalComponents","exportSettings","currentFrameId","step","nodes","father","node","styleType","items","key","fills","getStyleItems","style","description","setting","replace","formatStyles","fatStyles","asyncForEach","array","callback","a","index","getImage","useLocalImages","images","process","url","getUrlImage","copySomething","text","textarea","createElement","setAttribute","body","appendChild","focus","setSelectionRange","execCommand","removeChild","getGlobalSettings","JSON","parse","window","localStorage","getItem","setGlobalSettings","globalSettings","args","argsLength","settings","stringify","setItem","localSettings","language","resources","en","common","entry","left","right","rightItems","utilities","canvas","header","i18n","use","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","Component","DropShadow","size","className","color","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","InnerShadow","LayerBlur","BackgroundBlur","MixEffect","FailedEffect","fill-rule","clip-rule","Fill","Opacity","Degree","SmallThin","NormalThin","LargeThin","SmallRegular","NormalRegular","LargeRegular","SmallBold","NormalBold","LargeBold","STYLE_TYPES","EFFECTS","icon","TEXTS","DEFAULT_SETTINGS","convention","resolution","unit","remBase","numberFormat","colorFormat","showAllExports","disableInspectExportInner","leftCollapse","rightCollapse","PLATFORMS","WEB_MULTIPLE","IOS_DENSITY","ANDROID_DENSITY","NUMBER_FORMATS","UNITS","COLOR_FORMATS","SettingsContext","createContext","changeGlobalSettings","withGlobalSettings","props","Consumer","GlobalContext","globalData","percentageMode","changeGlobalData","yes","tooltipProps","withTranslation","t","useState","setVisible","trigger","overlay","placement","transitionName","onClick","timer","setTimeout","clearTimeout","onCopied","isQuiet","onWrapperClick","cn","title","inputClass","labelWidth","copied","setCopied","setTimer","handleClick","target","onInputClick","useEffect","undefined","WithTooltip","readOnly","defaultValue","isLeft","collapsed","setCollapsed","href","rel","src","alt","languages","zh","onSettingsChange","lang","setLanguage","align","offset","preventDefault","onChange","changeLanguage","getMockFile","fetch","then","response","json","catch","error","console","dir","err","getBufferData","arrayBuffer","reportEvent","event","category","gtag","event_category","event_label","Entry","state","coffeeVisible","isLoadingDemo","gotoDemo","setState","onDataGot","onComponentsOptionChange","toggleCoffee","backFromDemo","this","search","location","URLSearchParams","get","ProductHunt","ref","figmacnLogo","logo","hide","disabled","require","React","FrameSelector","defaultOptions","selectedValue","frameId","selectedText","inputValue","activeValue","handleCascaderChange","selectedOptions","onSelected","o","join","selectedFrame","find","handleInputChange","popupVisible","handleKeyDown","keyCode","stopPropagation","getIfValueInOptions","handlePopupVisibleChange","getSelectedTextByValue","prevProps","changeOnSelect","expandIcon","onPopupVisibleChange","expandTrigger","tabIndex","onKeyDown","Frames","getDefaultFrame","handlePageChange","onFrameChange","handleFrameSelect","selected","backgroundImage","Components","defaultComponents","c","filterVisible","selectedIndex","handleComponentSelect","componentId","onComponentChange","resetInput","placeholder","component","LeftPanel","handleTabClick","onItemChange","itemId","onFrameOrComponentChange","onSiderTransitionEnd","onTransitionEnd","toPercentage","num","toMarkPercentage","toFixed","px2number","str","Math","round","floor","ceil","generateRects","docRect","rects","exportIds","parentId","parentComponentId","parentPaths","maskIndex","maskParentId","maskbb","innerIndex","nbb","absoluteBoundingBox","maskedElementBound","isMask","isOutOfMask","getMaskedElementBound","bound","getBound","isDirectFrame","isComponent","isGroup","hasExports","clazz","nativeId","componentIds","currentPaths","concat","paths","maskedBound","actualWidth","actualHeight","findParentComponent","currentIndex","rect","split","mask","x","y","maskBottom","targetBottom","top","bottom","maskRight","targetRight","nodeBound","getSortedNumbers","numbers","sort","b","getMidNumbers","slice","getEverage","reduce","getNums","direction","verticalNums","horizontalNums","getOrderedNums","nums","orderedNums","getMargin","intersectNums","whichOne","calculateMarkData","pageRect","pw","ph","selectedMidX","selectedMidY","distanceData","rulerData","targetRect","selectedRect","position","v","h","getPosition","spacingV","spacingH","selectedIsCloserV","selectedIsCloserH","w","distance","sortedVNumbers","sortedHNumbers","edges","mids","isBackslashed","edge","unfixedNum","flag","closerIndex","midIndex","getMidIndex","parallelSpacing","parallelNums","margins","margin","rulerUnfixedStart","rulerDistance","resolutions","polyfillAlpha","alpha","getRGBAObj","r","g","getColor","Color","getCSSRGBA","opacity","colorObject","getCSSHEX","hex","getCSSHEXA","valpha","hexAlpha","parseInt","toString","toUpperCase","getCSSHSLA","hsl","string","part","formattedColor","getOpacity","getStops","stops","stop","hexa","rgba","hsla","stopsToBackground","separator","getGradientDegree","gradientHandlePositions","positions","offsetX","offsetY","angle","atan2","PI","getGradientDegreeFromPositions","gradientTransform","getGradientDegreeFromMatrix","getDiamondCodeTemplate","getFillsStyle","codeTemplate","css","getSolidColor","gradientStops","getLinearGradient","getRadialGradient","getAngularGradient","getDiamondGradient","getFillCSSCode","fillStyle","code","getShadowEffect","effect","blur","radius","spread","getEffectsStyle","effects","typeName","porpertyName","dashedPorpertyName","getEffectCSSCode","effectStyle","formattedNumber","getEffectsCSSObject","effectItems","shadowType","useDashedName","shadows","effectItem","getTextStyle","textItems","isInPropPanel","fontFamily","fontWeight","fontSize","textDecoration","letterSpacing","lineHeightUnit","textAlignHorizontal","textStyle","lineHeight","lineHeightPx","lineHeightPercentFontSize","getLineHeight","textAlign","number","withoutUnit","scaledNumber","finalNumber","isSolid","isExpanded","setExpanded","background","InputGroup","nodeType","exportSetting","isDownloading","setDownloading","image","fileName","imageUrl","protocol","isHttpServer","test","handleSave","blob","saveAs","styleName","isHoverable","fillItems","isSingleFill","isMixFill","weight","getTextIcon","ColorFormatSelect","onColorFormatChange","setColorFormat","format","RightSider","percentage","progressText","changeTab","setProgress","handleDownloadAll","documentName","zip","JSZip","folderName","exportsFolder","folder","imgName","rename","imgUrl","imgData","file","base64","generateAsync","content","propsPanelState","onShowDetail","ExportItem","styleItems","nodeStyles","onShowStyleDetail","styleReference","getStyleById","onDoubleClick","FontPanel","switchPiece","piece","onSwitch","onGetStyle","onDeselectPiece","Array","prototype","call","classList","textTable","lastOverrideKey","characters","characterStyleOverrides","styleOverrideTable","overrides","character","currentOverride","styleKey","getTextTable","propsSider","StyleReference","overlayStyle","getTooltipContainer","mouseLeaveDelay","points","RightProps","createRef","elementData","isPieceSelected","getExportSettings","currentExportIds","handleStyleGot","handleTextChange","pieceIndex","handleStyleDetailShow","selectedId","detailVisible","onCloseDetail","currentComponentName","onPropsPanelTransitionEnd","strokes","strokeItems","cornerRadius","rectangleCornerRadii","strokeWeight","strokeDashes","borderStyle","stroke","strokeColor","propertyName","getCode","styledCode","Prism","highlight","current","strokeStyle","dash","strokeAlign","dangerouslySetInnerHTML","__html","itemsMap","FillItem","EffectItem","StyleDetail","onBack","isText","getStyle","Preview","styleItem","StyleItem","Right","styleDetail","toggleDetail","openStyleDetail","handlePropsPanelAnimationEnd","onPropsPanelLeave","currentState","hasElementSelected","RightStyles","closedCommonParent","isVertical","whichSide","actualSize","ruler","Canvas","isLoading","componentIndex","hoveredRect","hoveredIndex","markData","frameStyle","isChanging","closedCommonParentPath","resetMark","generateMark","canvasData","onGetExports","frameBound","getLayerBoundStyle","getMaskedLayerHoveredBoundStyle","getActiveAndMaskedType","getClosedCommonParent","indexedPaths","pop","sortedPaths","shorterOne","longerOne","i","isPercentageHighlight","selectMask","onSelect","spacePressed","currentComponent","isArray","onHover","onLeave","handleImgLoaded","prevImgUrl","exportsVisible","onMouseLeave","Ruler","activeAndMaskedType","onMouseOver","Distance","onLoad","canvasWrapper","CanvasWrapper","initializeCanvas","needResetSizeAndPosition","initialWidth","initialHeight","getOffsetSize","scale","container","clientWidth","clientHeight","minScale","max","containerWidth","containerHeight","posX","posY","strokeBase","fallbackSpread","getFrameBound","limitedPosition","pos","min","getSize","initialSize","onStep","increment","isDirect","currentScale","calculateStaringOrigins","isZoomimg","getBoundingClientRect","originX","clientX","originY","clientY","handleKeyboard","onDeselect","onkeydown","altKey","onkeyup","onContainerClick","isDragging","handleDrag","addEventListener","which","movementX","movementY","handleWheel","deltaY","currentWidth","currentHeight","currentPosX","currentPosY","deltaX","handleResize","siderCollapseFlag","onresize","fn","delay","context","arguments","apply","throttle","overlayClassName","role","aria-label","cursor","Main","handleSelectFrameOrComponent","currentId","onNamesChange","currentPage","handleDeselect","handleSelectElement","handleGetExports","handlePropsPanelLeave","handleSiderTransitionEnd","siderCollapsePlacement","isMock","isLocal","Settings","handleChange","changeResolution","changeUnit","changeResolutionWhenRemOrEm","handleRemBaseChange","baseVisible","htmlFor","precision","changeOtherSetting","Mark","marked","Header","hasNames","pageName","frameName","logoHidden","Overlay","App","initializeGlobalSettings","SETTINGS","setSettings","handleDataGot","imagesData","entryVisible","handleComponentsOptionChange","getNames","names","handleBack","FILE_DATA","PAGED_FRAMES","needCheck","flattedFrames","getFlattedFrames","parsedData","Provider","withGlobalContextProvider","setGlobalData","property","newGlobalData","Boolean","hostname","ReactDOM","render","I18nextProvider","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.af4e1435.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/qrcode.a31c4705.jpg\";","module.exports = __webpack_public_path__ + \"static/media/multi-styles.49debdc3.gif\";","export const throttle = (fn, delay) => {\n \tvar timer = null\n \treturn function(){\n \t\tvar context = this, args = arguments\n \t\tclearTimeout(timer)\n \t\ttimer = setTimeout(function(){\n \t\t\tfn.apply(context, args)\n \t\t}, delay)\n \t}\n}\n\nexport const isCmdOrCtrl = e => navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey\n\nexport const getFileKey = pageUrl => {\n  if (!/^https:\\/\\/(www.)?figma.com\\/file\\//.test(pageUrl)) {\n    return ''\n  }\n  const parser = document.createElement('a')\n  parser.href = pageUrl\n  return parser.pathname.replace('/file/', '').replace(/\\/.*/,'')\n}\n\nexport const getUrlParameter = name => {\n  // eslint-disable-next-line\n  const tempName = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  const regex = new RegExp('[\\\\?&]' + tempName + '=([^&#]*)');\n  const results = regex.exec(window.location.search);\n  return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\nexport const urlWithParams = (url, data) => {\n  const urlObj = new URL(url)\n  Object.keys(data).forEach(key => urlObj.searchParams.append(key, data[key]))\n  return urlObj\n}\n\nexport const getPagedFrames = data => {\n  let pagedFrames = {}\n  if (data.document && data.document.children) {\n    data.document.children\n      // eslint-disable-next-line\n      .map((page) => {\n        pagedFrames[page.id] = {\n          isCollapsed: true,\n          checked: true,\n          name: page.name,\n          frames: page.children\n            .filter(frame => frame.type==='FRAME' && frame.visible!==false)\n            .map(({id, name}) => ({id, name, checked: true}))\n            .reverse()\n        }\n      })\n  }\n  return pagedFrames\n}\n\nexport const getSelectedPagedFrames = pagedFrames => {\n  let finalFrames = {}\n  Object.keys(pagedFrames)\n    // eslint-disable-next-line\n    .map(pageId => {\n      const { name, frames } = pagedFrames[pageId]\n      const checkedFrames = frames.filter(({checked}) => checked)\n      if (checkedFrames.length) {\n        finalFrames[pageId] = {\n          name, frames: checkedFrames\n        }\n      }\n    })\n  return finalFrames\n}\n\nexport const getFrameOptions = pagedFrames => {\n  const options = []\n  Object.keys(pagedFrames)\n    // eslint-disable-next-line\n    .map(pageId => {\n      const { name, frames } = pagedFrames[pageId]\n      if (frames.length) {\n        options.push({\n          label: name,\n          value: pageId,\n          children: frames.map(({id, name}) => ({value: id, label: name}))\n        })\n      }\n    })\n  return options\n}\n\nexport const filterFrameOptions = (frameOptions, value) => {\n  return frameOptions.map(p => {\n    const pageContainsValue = p.label.toLowerCase().indexOf(value.toLowerCase()) > -1\n    const frameContainsValue = p.children.some(f => f.label.toLowerCase().indexOf(value.toLowerCase()) > -1)\n    if (pageContainsValue) {\n      return p\n    } else if (frameContainsValue) {\n      const targetedChildren = p.children.filter(f => f.label.toLowerCase().indexOf(value.toLowerCase()) > -1)\n      return {...p, children: targetedChildren}\n    } else {\n      return ''\n    }\n  })\n  .filter(p => !!p)\n}\n\nexport const getFlattedFrames = (pagedFrames, needCheck=true) => {\n  let flattedFrames = []\n  Object.keys(pagedFrames)\n    // eslint-disable-next-line\n    .map(pageId => {\n      flattedFrames = flattedFrames\n        .concat(\n          pagedFrames[pageId].frames\n            .filter(({checked}) => needCheck ? checked : true)\n            .map(({id, name}) => ({id, name}))\n        )\n    })\n  return flattedFrames\n}\n\nexport const getStyleItems = (node, key) =>\n  key==='backgrounds' ? node.fills : node[key]\n\nexport const isAllImageFill = fills =>\n  fills.filter(fill => fill.type === 'IMAGE').length === fills.length\n\n// walk file\nexport const walkFile = (fileData, frames, includeComponents) => {\n  const framesIds = frames ? frames.map(({id}) => id) : null\n  // from plugin\n  const { styles, components, isFromPlugin } = fileData\n  const finalStyles = {}\n  const finalComponents = includeComponents ? [] : components, exportSettings = []\n  let currentFrameId = ''\n\n  const step = (nodes, father) => {\n    // eslint-disable-next-line\n    nodes.map(node => {\n      if (father && father.type==='CANVAS') {\n        currentFrameId = node.type==='FRAME' ? node.id : ''\n      }\n      // handle style\n      if (node.styles) {\n        // eslint-disable-next-line\n        Object.keys(node.styles).map(styleType => {\n          const id = node.styles[styleType]\n          if (!finalStyles[id]) {\n            const items = styleType!=='text' ? getStyleItems(node, `${styleType}s`) : node.style\n            finalStyles[id] = {\n              items,\n              ...styles[id]\n            }\n          }\n        })\n      }\n      // handle component\n      if (includeComponents && node.type==='COMPONENT') {\n        finalComponents.push({...node, description: components[node.id].description})\n      }\n      // handle exports\n      if (node.visible!==false && node.exportSettings && node.exportSettings.length) {\n        if (!framesIds || (framesIds && framesIds.indexOf(currentFrameId)>-1)) {\n          // eslint-disable-next-line\n          node.exportSettings.map(setting => {\n            exportSettings.push({\n              id: node.id,\n              name: node.name.replace(/\\//g, '-'),\n              ...setting\n            })\n          })\n        }\n      }\n      // walk in\n      if (node.children) {\n        step(node.children, node)\n      }\n    })\n  }\n\n  // start to walk\n  if (!isFromPlugin) {\n    step(fileData.document.children)\n  }\n  \n  return {\n    styles: isFromPlugin ? fileData.styles : formatStyles(finalStyles),\n    components: isFromPlugin ? fileData.components : finalComponents,\n    exportSettings: isFromPlugin ? fileData.exportSettings : exportSettings\n  }\n}\n\nexport const getFileName = (exportSetting, index) => {\n  const { name, suffix, format, constraint } = exportSetting\n  let fileName = suffix ? `${name}-${suffix}` : name\n  if (index!==undefined) {\n    fileName += `-${index}`\n  }\n  const scale = format==='SVG' ? '' : `@${constraint.value}x`\n  const fileFormat = format.toLowerCase()\n  fileName = fileName.replace(/ /g, '-')\n  return `${trimFilePath(fileName)}${scale}.${fileFormat}`\n}\n\nexport const formatStyles = styles => {\n  const fatStyles = {}\n  // eslint-disable-next-line\n  Object.keys(styles).map(key => {\n    const { styleType } = styles[key]\n    if (fatStyles[styleType]) {\n      fatStyles[styleType].push({id: key, ...styles[key]})\n    } else {\n      fatStyles[styleType] = [{id: key, ...styles[key]}]\n    }\n  })\n  return fatStyles\n}\n\nexport async function asyncForEach(array, callback) {\n  for (let index = 0; index < array.length; index++) {\n    await callback(array[index], index, array)\n  }\n}\n\nexport const getImage = (id, useLocalImages, images) =>\n  useLocalImages ?\n  `${process.env.PUBLIC_URL}/data/${id.replace(/:/g, '-')}.png` :\n  images[id].url\n\nexport const getUrlImage = (id, useLocalImages, images) =>\n  `url(${getImage(id, useLocalImages, images)})`\n\nexport const onInputClick = (e, callback) => {\n  const input = e.target\n  input.setSelectionRange(0, 9999)\n  if (document.execCommand('copy')) {\n    document.execCommand('copy')\n    callback && callback()\n  }\n}\n\nexport const copySomething = (text, callback) => {\n  return () => {\n    const textarea = document.createElement('textarea')\n    textarea.setAttribute('readonly', 'readonly')\n    textarea.value = text\n    document.body.appendChild(textarea)\n    textarea.focus()\n    textarea.setSelectionRange(0, 9999);\n    if (document.execCommand('copy')) {\n      document.execCommand('copy')\n      callback && callback()\n    }\n    document.body.removeChild(textarea)\n  }\n}\n\nexport const trimFilePath = filePath =>\n  filePath.replace(/\\//g, '-').replace(/:/g, '-')\n\nexport const getGlobalSettings = () =>\n  JSON.parse(window.localStorage.getItem('heronHandoff.settings'))\n\nexport const setGlobalSettings = (...args) => {\n  let globalSettings\n  const argsLength = args.length\n  if (argsLength===1) {\n    const [ settings ] = args\n    globalSettings = JSON.stringify(settings)\n    window.localStorage.setItem('heronHandoff.settings', globalSettings)\n  } else {\n    const [ name, value, callback ] = args\n    const localSettings = getGlobalSettings()\n    globalSettings = {...localSettings, [name]: value}\n    window.localStorage.setItem('heronHandoff.settings', JSON.stringify(globalSettings))\n    callback && callback(globalSettings)\n  }\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport { getGlobalSettings } from 'utils/helper'\nimport { common, entry, left, right, rightItems, utilities, canvas, header } from './lang'\n\nconst { language } = getGlobalSettings() || {}\n// the translations\n// (tip move them in a JSON file and import them)\nconst resources = {\n  en: {\n    'common': common.en,\n    'entry': entry.en,\n    'left': left.en,\n    'right': right.en,\n    'right.items': rightItems.en,\n    'utilities': utilities.en,\n    'canvas': canvas.en,\n    'header': header.en\n  }\n}\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: language || 'en',\n    // debug: true,\n    keySeparator: false, // we do not use keys in form messages.welcome\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\nexport default i18n\n","import React, { createContext, useState } from 'react'\n\nconst GlobalContext = createContext({\n  globalData: {\n    percentageMode: false\n  },\n  changeGlobalData: () => {}\n})\n\nexport const withGlobalContextConsumer = (Component) =>\n  props =>\n    <GlobalContext.Consumer>\n      {(({globalData, changeGlobalData}) => <Component globalData={globalData} changeGlobalData={changeGlobalData} {...props}/>)}\n    </GlobalContext.Consumer>\n\nexport const withGlobalContextProvider = (Component) => {\n  return props => {\n    const [globalData, setGlobalData] = useState({ percentageMode: false })\n    const handleChangeGlobalData = (property, value) => {\n      const newGlobalData = {...globalData, [property]: value}\n      setGlobalData(newGlobalData)\n    }\n    return (\n      <GlobalContext.Provider value={{globalData, changeGlobalData: handleChangeGlobalData}}>\n        <Component {...props}/>\n      </GlobalContext.Provider>\n    )\n  }\n}\n\nexport default GlobalContext\n","import React from 'react'\n\nexport const DropShadow = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 17.7576C15.961 17.7576 19.1713 14.5018 19.1713 10.4848C19.1713 6.46788 15.961 3.21212 12 3.21212C8.03904 3.21212 4.82869 6.46788 4.82869 10.4848C4.82869 14.5018 8.03904 17.7576 12 17.7576ZM12 18.9697C16.6207 18.9697 20.3665 15.1709 20.3665 10.4848C20.3665 5.79879 16.6207 2 12 2C7.37928 2 3.63347 5.79879 3.63347 10.4848C3.63347 15.1709 7.37928 18.9697 12 18.9697ZM3.94661 16.7673C5.80518 19.2121 8.72032 20.7879 12 20.7879C15.2785 20.7879 18.1948 19.2121 20.0534 16.7673L21 17.5067C18.9239 20.2388 15.6645 22 12 22C8.33546 22 5.0761 20.2388 3 17.5067L3.94661 16.7673Z\"/>\n  </svg>\n\nexport const InnerShadow = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 20.75C16.8325 20.75 20.75 16.8325 20.75 12C20.75 7.1675 16.8325 3.25 12 3.25C7.1675 3.25 3.25 7.1675 3.25 12C3.25 16.8325 7.1675 20.75 12 20.75ZM12 22C17.5225 22 22 17.5225 22 12C22 6.4775 17.5225 2 12 2C6.4775 2 2 6.4775 2 12C2 17.5225 6.4775 22 12 22ZM7.54125 8.57C8.57 7.235 10.185 6.375 12 6.375C13.815 6.375 15.43 7.235 16.4588 8.57L17.45 7.8075C16.1925 6.17625 14.2188 5.125 12 5.125C9.78125 5.125 7.8075 6.17625 6.55 7.8075L7.54125 8.57Z\"/>\n  </svg>\n\nexport const LayerBlur = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M7.54741 2.91656L5.23135 5.23135L6.12642 6.12642L10.2073 2.04425C9.26928 2.21239 8.37674 2.50948 7.54741 2.91656ZM13.5209 2L10.2895 5.23135L11.1833 6.12642L14.976 2.33123C14.5057 2.18584 14.019 2.07459 13.5221 2H13.5209ZM17.2339 3.34387L15.3451 5.23135L16.2402 6.12642L18.2882 4.07838C17.9532 3.8129 17.6005 3.56637 17.2339 3.34513V3.34387ZM19.9216 5.71176L16.6094 9.02402L17.5044 9.91909L20.6561 6.76612C20.4336 6.39949 20.1884 6.04678 19.9229 5.71176H19.9216ZM21.6688 9.02402L17.8736 12.8167L18.7686 13.7118L22 10.4791C21.9241 9.98104 21.8129 9.49431 21.6688 9.02276V9.02402ZM21.9558 13.7927L19.1378 16.6106L20.0329 17.5044L21.0822 16.4526C21.4905 15.6233 21.7876 14.7307 21.9545 13.7927H21.9558ZM16.4526 21.0834L18.7686 18.7686L17.8736 17.8748L13.7927 21.9558C14.7307 21.7876 15.6233 21.4905 16.4526 21.0834ZM10.4791 22L13.7105 18.7686L12.8167 17.8748L9.02402 21.6675C9.49431 21.8142 9.98104 21.9254 10.4779 22H10.4791ZM6.76612 20.6561L8.65487 18.7686L7.7598 17.8748L5.71176 19.9229C6.04678 20.1884 6.39949 20.4336 6.76612 20.6561ZM4.07838 18.2882L6.75853 15.6081L5.86346 14.7143L3.34387 17.2339C3.56637 17.6005 3.81163 17.9532 4.07712 18.2882H4.07838ZM2.33123 14.976L6.12642 11.1833L5.23135 10.2895L2 13.5209C2.07585 14.019 2.18711 14.5057 2.33123 14.9772V14.976ZM2.04425 10.2073L4.8622 7.39064L3.96713 6.49557L2.91783 7.54741C2.50948 8.37674 2.21239 9.26928 2.04551 10.2073H2.04425ZM14.3439 8.02276L13.4501 7.12769L10.9216 9.65613L11.8154 10.5512L14.3439 8.02276ZM9.6574 10.9216L7.12895 13.4501L8.02276 14.3439L10.5512 11.8154L9.6574 10.9216ZM14.0822 16.6106L14.976 17.5044L17.5044 14.976L16.6094 14.0822L14.0809 16.6106H14.0822ZM12.818 12.818L15.3464 10.2895L16.2402 11.1833L13.7118 13.7118L12.818 12.818ZM11.5537 14.0822L9.02528 16.6106L9.91909 17.5044L12.4475 14.976L11.5537 14.0822ZM9.02528 6.49684L6.49684 9.02528L7.39064 9.91909L9.91909 7.39064L9.02402 6.49557L9.02528 6.49684Z\"/>\n  </svg>\n\nexport const BackgroundBlur = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 20.75C16.8325 20.75 20.75 16.8325 20.75 12C20.75 7.1675 16.8325 3.25 12 3.25C7.1675 3.25 3.25 7.1675 3.25 12C3.25 16.8325 7.1675 20.75 12 20.75ZM12 22C17.5225 22 22 17.5225 22 12C22 6.4775 17.5225 2 12 2C6.4775 2 2 6.4775 2 12C2 17.5225 6.4775 22 12 22Z\"/>\n    <path d=\"M18.8073 6.10145C18.5267 5.77715 18.223 5.47344 17.8988 5.19161L15.4049 7.68564L16.3147 8.59548L18.8086 6.10145H18.8073ZM14.5762 3.36677C15.0305 3.50189 15.4693 3.67177 15.8888 3.87252L14.3858 5.37821L13.476 4.46708L14.5762 3.36677ZM9.43151 3.3642C10.1277 3.157 10.8599 3.03217 11.6152 3L7.95167 6.66512L7.04061 5.75399L9.43151 3.3642ZM3 11.6146C3.03217 10.8592 3.15699 10.1269 3.36417 9.43069L5.75379 7.03961L6.66486 7.95074L3 11.6146ZM3.87375 15.8897C3.67172 15.4689 3.50057 15.03 3.36674 14.577L4.46697 13.4742L5.37804 14.3853L3.87246 15.8897H3.87375ZM6.10123 18.8084C5.77695 18.5266 5.47326 18.2228 5.19145 17.8985L6.3972 16.6914L7.30826 17.6026L6.10123 18.8084ZM9.42379 20.6332C8.96955 20.4981 8.53074 20.3282 8.11124 20.1275L11.5445 16.6914L12.4542 17.6026L9.42379 20.6332ZM14.5685 20.6358C13.8723 20.843 13.1401 20.9678 12.3848 21L16.0483 17.3349L16.9581 18.246L14.5685 20.6358ZM21 12.3841C20.9678 13.1396 20.843 13.8718 20.6371 14.568L18.2462 16.9591L17.3364 16.0493L21 12.3841ZM20.1275 8.10903C20.3296 8.52985 20.4994 8.96869 20.6333 9.42168L17.6028 12.4549L16.693 11.5451L20.1275 8.10903ZM12.1879 5.75399L13.0977 6.66383L10.524 9.23765L9.61424 8.32652L12.1879 5.7527V5.75399ZM8.32742 9.61471L9.23849 10.5246L6.66486 13.0984L5.75379 12.1885L8.32742 9.61471ZM13.7411 16.3157L12.8313 15.4058L15.4049 12.832L16.3147 13.7418L13.7411 16.3157ZM14.1181 8.96997L11.5445 11.5438L12.4542 12.4549L15.0279 9.8811L14.1181 8.96997ZM7.68401 15.4045L10.2576 12.8307L11.1674 13.7418L8.59379 16.3157L7.68401 15.4058V15.4045Z\"/>\n  </svg>\n\nexport const MixEffect = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12.6667 2H11.3333V6H12.6667V2ZM5.4 4.45733L4.45733 5.4L7.28667 8.22933L8.22933 7.28533L5.4 4.45867V4.45733ZM19.5427 5.4L18.6 4.45733L15.772 7.28533L16.7147 8.22933L19.5427 5.4ZM2 11.3333V12.6667H6V11.3333H2ZM18 11.3333V12.6667H22V11.3333H18ZM8.22933 16.7147L7.28667 15.7707L4.45733 18.6L5.4 19.5427L8.22933 16.7147ZM16.7133 15.7707L15.7707 16.7147L18.6 19.5413L19.5427 18.6L16.7133 15.7707ZM12.6667 18H11.3333V22H12.6667V18Z\"/>\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15 12C15 13.656 13.656 15 12 15C10.344 15 9 13.656 9 12C9 10.344 10.344 9 12 9C13.656 9 15 10.344 15 12ZM13.8 12C13.8 12.9936 12.9936 13.8 12 13.8C11.0052 13.8 10.2 12.9936 10.2 12C10.2 11.0052 11.0052 10.2 12 10.2C12.9936 10.2 13.8 11.0052 13.8 12Z\"/>\n  </svg>\n\nexport const FailedEffect = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.33333 12C1.33333 17.891 6.10896 22.6667 12 22.6667C17.891 22.6667 22.6667 17.891 22.6667 12C22.6667 6.10896 17.891 1.33333 12 1.33333C6.10896 1.33333 1.33333 6.10896 1.33333 12ZM12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0Z\"/>\n    <path d=\"M12.6667 2H11.3333V6H12.6667V2ZM5.4 4.45733L4.45733 5.4L7.28667 8.22933L8.22933 7.28533L5.4 4.45867V4.45733ZM19.5427 5.4L18.6 4.45733L15.772 7.28533L16.7147 8.22933L19.5427 5.4ZM2 11.3333V12.6667H6V11.3333H2ZM18 11.3333V12.6667H22V11.3333H18ZM8.22933 16.7147L7.28667 15.7707L4.45733 18.6L5.4 19.5427L8.22933 16.7147ZM16.7133 15.7707L15.7707 16.7147L18.6 19.5413L19.5427 18.6L16.7133 15.7707ZM12.6667 18H11.3333V22H12.6667V18Z\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.3307 11.9973C15.3307 13.8373 13.8373 15.3307 11.9973 15.3307C10.1573 15.3307 8.664 13.8373 8.664 11.9973C8.664 10.1573 10.1573 8.664 11.9973 8.664C13.8373 8.664 15.3307 10.1573 15.3307 11.9973ZM13.9973 11.9973C13.9973 13.1013 13.1013 13.9973 11.9973 13.9973C10.892 13.9973 9.99733 13.1013 9.99733 11.9973C9.99733 10.892 10.892 9.99733 11.9973 9.99733C13.1013 9.99733 13.9973 10.892 13.9973 11.9973Z\"/>\n  </svg>\n\nexport const Fill = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12.7021 2.29289C12.5145 2.10525 12.2599 1.99988 11.9946 2C11.7292 2.00012 11.4748 2.10571 11.2873 2.29352L5.63753 7.95326C4.37859 9.21161 3.52106 10.815 3.17337 12.5607C2.82562 14.3067 3.00351 16.1166 3.68452 17.7615C4.36554 19.4064 5.51909 20.8123 6.99926 21.8015C8.47943 22.7907 10.2197 23.3187 12 23.3187C13.7803 23.3187 15.5206 22.7907 17.0007 21.8015C18.4809 20.8123 19.6345 19.4064 20.3155 17.7615C20.9965 16.1166 21.1744 14.3067 20.8266 12.5607C20.4789 10.8148 19.621 9.21106 18.3619 7.95266L12.7021 2.29289ZM7.05188 9.36734C6.07245 10.3461 5.40531 11.5934 5.13484 12.9514C5.06568 13.2987 5.02325 13.6492 5.00726 14C5.00726 14 9.00001 13 12 14C15 15 18.9928 14 18.9928 14C18.9768 13.6492 18.9343 13.2987 18.8652 12.9514C18.5947 11.5934 17.9276 10.3461 16.9481 9.36734L11.9956 4.41484L7.05188 9.36734Z\"/>\n  </svg>\n\nexport const Position = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M13 2C13 1.44772 12.5523 1 12 1C11.4477 1 11 1.44772 11 2V4.06189C7.38128 4.51314 4.51314 7.38128 4.06189 11H2C1.44772 11 1 11.4477 1 12C1 12.5523 1.44772 13 2 13H4.06189C4.51314 16.6187 7.38128 19.4869 11 19.9381V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V19.9381C16.6187 19.4869 19.4869 16.6187 19.9381 13H22C22.5523 13 23 12.5523 23 12C23 11.4477 22.5523 11 22 11H19.9381C19.4869 7.38128 16.6187 4.51314 13 4.06189V2Z\"/>\n  </svg>\n\nexport const Opacity = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M22 10C22 13.2444 20.0687 16.0377 17.293 17.293C16.0377 20.0687 13.2444 22 10 22C5.58172 22 2 18.4183 2 14C2 10.7556 3.93132 7.96228 6.70701 6.70701C7.96228 3.93132 10.7556 2 14 2C18.4183 2 22 5.58172 22 10ZM6.01447 9.51488C6.00487 9.67536 6 9.83711 6 10C6 14.4183 9.58172 18 14 18C14.1629 18 14.3246 17.9951 14.4851 17.9855C13.3861 19.2214 11.784 20 10 20C6.68629 20 4 17.3137 4 14C4 12.216 4.77857 10.6139 6.01447 9.51488Z\"/>\n  </svg>\n\nexport const Degree = ({size=24, className, color='currentColor'}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill={color} xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2 2V21V22H3H22V20H14C14 18.6868 13.7413 17.3864 13.2388 16.1732C12.7363 14.9599 11.9996 13.8575 11.0711 12.9289C10.1425 12.0003 9.04008 11.2638 7.82683 10.7612C6.61359 10.2587 5.31322 10 4 10V2H2Z\"/>\n  </svg>\n","import React from 'react'\n\nexport const SmallThin = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M7.65604 12.336L7.99804 11.265C8.24104 10.518 8.45704 9.816 8.67304 9.033H8.70904C8.93404 9.807 9.14104 10.518 9.39304 11.265L9.73504 12.336H7.65604ZM10.581 15H11.373L9.11404 8.412H8.29504L6.04504 15H6.79204L7.46704 12.921H9.92404L10.581 15Z\"/>\n    <path d=\"M14.7803 17.259C16.2563 17.259 17.2013 16.476 17.2013 15.594C17.2013 14.793 16.6433 14.442 15.5273 14.442H14.5553C13.8893 14.442 13.6913 14.208 13.6913 13.893C13.6913 13.614 13.8353 13.434 14.0153 13.281C14.2403 13.398 14.5193 13.461 14.7623 13.461C15.7433 13.461 16.5173 12.795 16.5173 11.76C16.5173 11.319 16.3373 10.941 16.0943 10.707H17.1203V10.14H15.4373C15.2663 10.077 15.0323 10.014 14.7623 10.014C13.7813 10.014 12.9623 10.698 12.9623 11.751C12.9623 12.327 13.2773 12.804 13.5923 13.056V13.092C13.3493 13.272 13.0523 13.587 13.0523 13.992C13.0523 14.379 13.2413 14.64 13.4933 14.793V14.829C13.0433 15.126 12.7733 15.531 12.7733 15.945C12.7733 16.782 13.5833 17.259 14.7803 17.259ZM14.7623 12.957C14.1773 12.957 13.6733 12.48 13.6733 11.751C13.6733 11.004 14.1593 10.563 14.7623 10.563C15.3563 10.563 15.8513 11.013 15.8513 11.751C15.8513 12.48 15.3473 12.957 14.7623 12.957ZM14.8793 16.746C13.9613 16.746 13.4213 16.395 13.4213 15.855C13.4213 15.558 13.5833 15.243 13.9523 14.982C14.1773 15.036 14.4203 15.063 14.5733 15.063H15.4643C16.1303 15.063 16.4813 15.225 16.4813 15.702C16.4813 16.224 15.8513 16.746 14.8793 16.746Z\"/>\n  </svg>\n\nexport const NormalThin = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M6.20806 13.448L6.66406 12.02C6.98806 11.024 7.27606 10.088 7.56406 9.044H7.61206C7.91206 10.076 8.18806 11.024 8.52406 12.02L8.98006 13.448H6.20806ZM10.1081 17H11.1641L8.15206 8.216H7.06006L4.06006 17H5.05606L5.95606 14.228H9.23206L10.1081 17Z\"/>\n    <path d=\"M15.7071 20.012C17.6751 20.012 18.9351 18.968 18.9351 17.792C18.9351 16.724 18.1911 16.256 16.7031 16.256H15.4071C14.5191 16.256 14.2551 15.944 14.2551 15.524C14.2551 15.152 14.4471 14.912 14.6871 14.708C14.9871 14.864 15.3591 14.948 15.6831 14.948C16.9911 14.948 18.0231 14.06 18.0231 12.68C18.0231 12.092 17.7831 11.588 17.4591 11.276H18.8271V10.52H16.5831C16.3551 10.436 16.0431 10.352 15.6831 10.352C14.3751 10.352 13.2831 11.264 13.2831 12.668C13.2831 13.436 13.7031 14.072 14.1231 14.408V14.456C13.7991 14.696 13.4031 15.116 13.4031 15.656C13.4031 16.172 13.6551 16.52 13.9911 16.724V16.772C13.3911 17.168 13.0311 17.708 13.0311 18.26C13.0311 19.376 14.1111 20.012 15.7071 20.012ZM15.6831 14.276C14.9031 14.276 14.2311 13.64 14.2311 12.668C14.2311 11.672 14.8791 11.084 15.6831 11.084C16.4751 11.084 17.1351 11.684 17.1351 12.668C17.1351 13.64 16.4631 14.276 15.6831 14.276ZM15.8391 19.328C14.6151 19.328 13.8951 18.86 13.8951 18.14C13.8951 17.744 14.1111 17.324 14.6031 16.976C14.9031 17.048 15.2271 17.084 15.4311 17.084H16.6191C17.5071 17.084 17.9751 17.3 17.9751 17.936C17.9751 18.632 17.1351 19.328 15.8391 19.328Z\"/>\n  </svg>\n\nexport const LargeThin = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M4.75995 12.56L5.32995 10.775C5.73495 9.53 6.09495 8.36 6.45495 7.055H6.51495C6.88995 8.34501 7.23495 9.53 7.65495 10.775L8.22495 12.56H4.75995ZM9.63495 17H10.955L7.18995 6.02H5.82495L2.07495 17H3.31995L4.44495 13.535H8.53995L9.63495 17Z\"/>\n    <path d=\"M16.6337 20.765C19.0937 20.765 20.6687 19.46 20.6687 17.99C20.6687 16.655 19.7387 16.07 17.8787 16.07H16.2587C15.1487 16.07 14.8187 15.68 14.8187 15.155C14.8187 14.69 15.0587 14.39 15.3587 14.135C15.7337 14.33 16.1987 14.435 16.6037 14.435C18.2387 14.435 19.5287 13.325 19.5287 11.6C19.5287 10.865 19.2287 10.235 18.8237 9.845H20.5337V8.9H17.7287C17.4437 8.795 17.0537 8.69 16.6037 8.69C14.9687 8.69 13.6037 9.83 13.6037 11.585C13.6037 12.545 14.1287 13.34 14.6537 13.76V13.82C14.2487 14.12 13.7537 14.645 13.7537 15.32C13.7537 15.965 14.0687 16.4 14.4887 16.655V16.715C13.7387 17.21 13.2887 17.885 13.2887 18.575C13.2887 19.97 14.6387 20.765 16.6337 20.765ZM16.6037 13.595C15.6287 13.595 14.7887 12.8 14.7887 11.585C14.7887 10.34 15.5987 9.605 16.6037 9.605C17.5937 9.605 18.4187 10.355 18.4187 11.585C18.4187 12.8 17.5787 13.595 16.6037 13.595ZM16.7987 19.91C15.2687 19.91 14.3687 19.325 14.3687 18.425C14.3687 17.93 14.6387 17.405 15.2537 16.97C15.6287 17.06 16.0337 17.105 16.2887 17.105H17.7737C18.8837 17.105 19.4687 17.375 19.4687 18.17C19.4687 19.04 18.4187 19.91 16.7987 19.91Z\"/>\n  </svg>\n\nexport const SmallRegular = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M7.872 12.291L8.142 11.4C8.358 10.68 8.565 9.951 8.754 9.195H8.79C8.997 9.942 9.195 10.68 9.42 11.4L9.681 12.291H7.872ZM10.491 15H11.598L9.402 8.376H8.196L6 15H7.062L7.629 13.11H9.933L10.491 15Z\"/>\n    <path d=\"M14.9736 17.223C16.5576 17.223 17.5656 16.449 17.5656 15.495C17.5656 14.649 16.9536 14.289 15.7836 14.289H14.8746C14.2446 14.289 14.0466 14.1 14.0466 13.803C14.0466 13.569 14.1546 13.425 14.3166 13.281C14.5326 13.38 14.7846 13.434 15.0096 13.434C16.0446 13.434 16.8636 12.813 16.8636 11.733C16.8636 11.355 16.7286 11.022 16.5396 10.824H17.4846V10.05H15.7296C15.5406 9.978 15.2886 9.924 15.0096 9.924C13.9836 9.924 13.0926 10.581 13.0926 11.706C13.0926 12.291 13.4076 12.759 13.7406 13.02V13.056C13.4706 13.254 13.1916 13.587 13.1916 13.974C13.1916 14.379 13.3896 14.64 13.6416 14.793V14.838C13.1826 15.117 12.9216 15.504 12.9216 15.918C12.9216 16.782 13.7856 17.223 14.9736 17.223ZM15.0096 12.768C14.4966 12.768 14.0736 12.363 14.0736 11.706C14.0736 11.031 14.4876 10.653 15.0096 10.653C15.5316 10.653 15.9456 11.04 15.9456 11.706C15.9456 12.363 15.5226 12.768 15.0096 12.768ZM15.1266 16.539C14.3076 16.539 13.8036 16.251 13.8036 15.765C13.8036 15.513 13.9296 15.261 14.2266 15.045C14.4336 15.09 14.6586 15.117 14.8926 15.117H15.6396C16.2426 15.117 16.5666 15.243 16.5666 15.657C16.5666 16.116 15.9906 16.539 15.1266 16.539Z\"/>\n  </svg>\n\nexport const NormalRegular = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M6.496 13.388L6.856 12.2C7.144 11.24 7.42 10.268 7.672 9.26H7.72C7.996 10.256 8.26 11.24 8.56 12.2L8.908 13.388H6.496ZM9.988 17H11.464L8.536 8.168H6.928L4 17H5.416L6.172 14.48H9.244L9.988 17Z\"/>\n    <path d=\"M15.9648 19.964C18.0768 19.964 19.4208 18.932 19.4208 17.66C19.4208 16.532 18.6048 16.052 17.0448 16.052H15.8328C14.9928 16.052 14.7288 15.8 14.7288 15.404C14.7288 15.092 14.8728 14.9 15.0888 14.708C15.3768 14.84 15.7128 14.912 16.0128 14.912C17.3928 14.912 18.4848 14.084 18.4848 12.644C18.4848 12.14 18.3048 11.696 18.0528 11.432H19.3128V10.4H16.9728C16.7208 10.304 16.3848 10.232 16.0128 10.232C14.6448 10.232 13.4568 11.108 13.4568 12.608C13.4568 13.388 13.8768 14.012 14.3208 14.36V14.408C13.9608 14.672 13.5888 15.116 13.5888 15.632C13.5888 16.172 13.8528 16.52 14.1888 16.724V16.784C13.5768 17.156 13.2288 17.672 13.2288 18.224C13.2288 19.376 14.3808 19.964 15.9648 19.964ZM16.0128 14.024C15.3288 14.024 14.7648 13.484 14.7648 12.608C14.7648 11.708 15.3168 11.204 16.0128 11.204C16.7088 11.204 17.2608 11.72 17.2608 12.608C17.2608 13.484 16.6968 14.024 16.0128 14.024ZM16.1688 19.052C15.0768 19.052 14.4048 18.668 14.4048 18.02C14.4048 17.684 14.5728 17.348 14.9688 17.06C15.2448 17.12 15.5448 17.156 15.8568 17.156H16.8528C17.6568 17.156 18.0888 17.324 18.0888 17.876C18.0888 18.488 17.3208 19.052 16.1688 19.052Z\"/>\n  </svg>\n\nexport const LargeRegular = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M5.12 12.485L5.57 11C5.93 9.8 6.275 8.585 6.59 7.325H6.65C6.995 8.57 7.325 9.8 7.7 11L8.135 12.485H5.12ZM9.485 17H11.33L7.67 5.96H5.66L2 17H3.77L4.715 13.85H8.555L9.485 17Z\"/>\n    <path d=\"M16.9561 20.705C19.5961 20.705 21.2761 19.415 21.2761 17.825C21.2761 16.415 20.2561 15.815 18.3061 15.815H16.7911C15.7411 15.815 15.4111 15.5 15.4111 15.005C15.4111 14.615 15.5911 14.375 15.8611 14.135C16.2211 14.3 16.6411 14.39 17.0161 14.39C18.7411 14.39 20.1061 13.355 20.1061 11.555C20.1061 10.925 19.8811 10.37 19.5661 10.04H21.1411V8.75H18.2161C17.9011 8.63 17.4811 8.54 17.0161 8.54C15.3061 8.54 13.8211 9.635 13.8211 11.51C13.8211 12.485 14.3461 13.265 14.9011 13.7V13.76C14.4511 14.09 13.9861 14.645 13.9861 15.29C13.9861 15.965 14.3161 16.4 14.7361 16.655V16.73C13.9711 17.195 13.5361 17.84 13.5361 18.53C13.5361 19.97 14.9761 20.705 16.9561 20.705ZM17.0161 13.28C16.1611 13.28 15.4561 12.605 15.4561 11.51C15.4561 10.385 16.1461 9.755 17.0161 9.755C17.8861 9.755 18.5761 10.4 18.5761 11.51C18.5761 12.605 17.8711 13.28 17.0161 13.28ZM17.2111 19.565C15.8461 19.565 15.0061 19.085 15.0061 18.275C15.0061 17.855 15.2161 17.435 15.7111 17.075C16.0561 17.15 16.4311 17.195 16.8211 17.195H18.0661C19.0711 17.195 19.6111 17.405 19.6111 18.095C19.6111 18.86 18.6511 19.565 17.2111 19.565Z\"/>\n  </svg>\n\nexport const SmallBold = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M8.25898 12.219L8.40298 11.652C8.57398 10.986 8.75398 10.203 8.91598 9.501H8.95198C9.13198 10.185 9.30298 10.986 9.48298 11.652L9.62698 12.219H8.25898ZM10.32 15H12.012L9.93298 8.304H8.00698L5.92798 15H7.56598L7.95298 13.461H9.93298L10.32 15Z\"/>\n    <path d=\"M15.3254 17.151C17.1074 17.151 18.2234 16.386 18.2234 15.306C18.2234 14.379 17.5124 13.992 16.2524 13.992H15.4424C14.8934 13.992 14.6864 13.884 14.6864 13.65C14.6864 13.479 14.7314 13.398 14.8484 13.29C15.0734 13.353 15.2804 13.38 15.4514 13.38C16.5854 13.38 17.4944 12.858 17.4944 11.661C17.4944 11.418 17.4314 11.184 17.3504 11.04H18.1424V9.879H16.2614C16.0274 9.798 15.7484 9.753 15.4514 9.753C14.3444 9.753 13.3094 10.365 13.3094 11.616C13.3094 12.21 13.6424 12.687 14.0024 12.939V12.975C13.6694 13.209 13.4354 13.569 13.4354 13.929C13.4354 14.361 13.6334 14.631 13.9034 14.811V14.856C13.4264 15.099 13.1744 15.441 13.1744 15.864C13.1744 16.782 14.1464 17.151 15.3254 17.151ZM15.4514 12.417C15.0824 12.417 14.8034 12.147 14.8034 11.616C14.8034 11.094 15.0824 10.824 15.4514 10.824C15.8294 10.824 16.0994 11.094 16.0994 11.616C16.0994 12.147 15.8294 12.417 15.4514 12.417ZM15.5774 16.152C14.9204 16.152 14.4884 15.972 14.4884 15.612C14.4884 15.441 14.5694 15.297 14.7314 15.153C14.8934 15.198 15.0914 15.216 15.4604 15.216H15.9464C16.4234 15.216 16.6934 15.279 16.6934 15.585C16.6934 15.909 16.2344 16.152 15.5774 16.152Z\"/>\n  </svg>\n\nexport const NormalBold = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M7.01205 13.292L7.20405 12.536C7.43205 11.648 7.67205 10.604 7.88805 9.668H7.93605C8.17605 10.58 8.40405 11.648 8.64405 12.536L8.83605 13.292H7.01205ZM9.76005 17H12.0161L9.24405 8.072H6.67605L3.90405 17H6.08805L6.60405 14.948H9.24405L9.76005 17Z\"/>\n    <path d=\"M16.4339 19.868C18.8099 19.868 20.2979 18.848 20.2979 17.408C20.2979 16.172 19.3499 15.656 17.6699 15.656H16.5899C15.8579 15.656 15.5819 15.512 15.5819 15.2C15.5819 14.972 15.6419 14.864 15.7979 14.72C16.0979 14.804 16.3739 14.84 16.6019 14.84C18.1139 14.84 19.3259 14.144 19.3259 12.548C19.3259 12.224 19.2419 11.912 19.1339 11.72H20.1899V10.172H17.6819C17.3699 10.064 16.9979 10.004 16.6019 10.004C15.1259 10.004 13.7459 10.82 13.7459 12.488C13.7459 13.28 14.1899 13.916 14.6699 14.252V14.3C14.2259 14.612 13.9139 15.092 13.9139 15.572C13.9139 16.148 14.1779 16.508 14.5379 16.748V16.808C13.9019 17.132 13.5659 17.588 13.5659 18.152C13.5659 19.376 14.8619 19.868 16.4339 19.868ZM16.6019 13.556C16.1099 13.556 15.7379 13.196 15.7379 12.488C15.7379 11.792 16.1099 11.432 16.6019 11.432C17.1059 11.432 17.4659 11.792 17.4659 12.488C17.4659 13.196 17.1059 13.556 16.6019 13.556ZM16.7699 18.536C15.8939 18.536 15.3179 18.296 15.3179 17.816C15.3179 17.588 15.4259 17.396 15.6419 17.204C15.8579 17.264 16.1219 17.288 16.6139 17.288H17.2619C17.8979 17.288 18.2579 17.372 18.2579 17.78C18.2579 18.212 17.6459 18.536 16.7699 18.536Z\"/>\n  </svg>\n\nexport const LargeBold = ({size=24, className}) =>\n  <svg className={className} width={size} height={size} viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M5.76501 12.365L6.005 11.42C6.29 10.31 6.59001 9.005 6.86 7.835H6.92C7.22001 8.975 7.505 10.31 7.80501 11.42L8.04501 12.365H5.76501ZM9.20001 17H12.02L8.55501 5.84H5.34501L1.88 17H4.61L5.255 14.435H8.55501L9.20001 17Z\"/>\n    <path d=\"M17.5423 20.585C20.5123 20.585 22.3724 19.31 22.3724 17.51C22.3724 15.965 21.1873 15.32 19.0873 15.32H17.7373C16.8223 15.32 16.4773 15.14 16.4773 14.75C16.4773 14.465 16.5523 14.33 16.7473 14.15C17.1223 14.255 17.4673 14.3 17.7523 14.3C19.6423 14.3 21.1574 13.43 21.1574 11.435C21.1574 11.03 21.0524 10.64 20.9174 10.4H22.2374V8.465H19.1024C18.7123 8.33 18.2473 8.255 17.7523 8.255C15.9073 8.255 14.1823 9.275 14.1823 11.36C14.1823 12.35 14.7373 13.145 15.3373 13.565V13.625C14.7823 14.015 14.3923 14.615 14.3923 15.215C14.3923 15.935 14.7223 16.385 15.1723 16.685V16.76C14.3773 17.165 13.9573 17.735 13.9573 18.44C13.9573 19.97 15.5773 20.585 17.5423 20.585ZM17.7523 12.695C17.1373 12.695 16.6723 12.245 16.6723 11.36C16.6723 10.49 17.1373 10.04 17.7523 10.04C18.3823 10.04 18.8323 10.49 18.8323 11.36C18.8323 12.245 18.3823 12.695 17.7523 12.695ZM17.9623 18.92C16.8673 18.92 16.1473 18.62 16.1473 18.02C16.1473 17.735 16.2823 17.495 16.5523 17.255C16.8223 17.33 17.1523 17.36 17.7673 17.36H18.5774C19.3724 17.36 19.8223 17.465 19.8223 17.975C19.8223 18.515 19.0573 18.92 17.9623 18.92Z\"/>\n  </svg>\n","import React from 'react'\nimport { DropShadow, InnerShadow, LayerBlur, BackgroundBlur, MixEffect, FailedEffect } from 'components/icons/style'\nimport {\n  SmallThin, NormalThin, LargeThin,\n  SmallRegular, NormalRegular, LargeRegular,\n  SmallBold, NormalBold, LargeBold\n} from 'components/icons/text'\n\nexport const STYLE_TYPES = {\n  'FILL': 'fill type',\n  'TEXT': 'text type',\n  'EFFECT': 'effect type',\n  'GRID': 'grid type'\n}\n\nexport const PAINTS = [ 'SOLID', 'GRADIENT_LINEAR', 'GRADIENT_RADIAL', 'GRADIENT_ANGULAR', 'GRADIENT_DIAMOND', 'IMAGE', 'EMOJI' ]\n\nexport const EFFECTS = {\n  'INNER_SHADOW': {\n    icon: <InnerShadow size={18} className=\"effect-thumbnail\"/>\n  },\n  'DROP_SHADOW': {\n    icon: <DropShadow size={18} className=\"effect-thumbnail\"/>\n  },\n  'LAYER_BLUR': {\n    icon: <LayerBlur size={18} className=\"effect-thumbnail\"/>\n  },\n  'BACKGROUND_BLUR': {\n    icon: <BackgroundBlur size={18} className=\"effect-thumbnail\"/>\n  },\n  'MIX_EFFECT': {\n    icon: <MixEffect size={18} className=\"effect-thumbnail\"/>\n  },\n  'FAILED_EFFECT': {\n    icon: <FailedEffect size={18} className=\"effect-thumbnail\"/>\n  }\n}\n\nexport const TEXTS = {\n  'small-thin': <SmallThin size={16} className=\"text-thumbnail\"/>,\n  'normal-thin': <NormalThin size={16} className=\"text-thumbnail\"/>,\n  'large-thin': <LargeThin size={16} className=\"text-thumbnail\"/>,\n  'small-regular': <SmallRegular size={16} className=\"text-thumbnail\"/>,\n  'normal-regular': <NormalRegular size={16} className=\"text-thumbnail\"/>,\n  'large-regular': <LargeRegular size={16} className=\"text-thumbnail\"/>,\n  'small-bold': <SmallBold size={16} className=\"text-thumbnail\"/>,\n  'normal-bold': <NormalBold size={16} className=\"text-thumbnail\"/>,\n  'large-bold': <LargeBold size={16} className=\"text-thumbnail\"/>\n}\n\nexport const DEFAULT_SETTINGS = {\n  convention: 1,\n  platform: 0,\n  resolution: 0,\n  unit: 2,\n  remBase: 14,\n  numberFormat: 0,\n  colorFormat: 0,\n  language: 'zh',\n  showAllExports: true,\n  disableInspectExportInner: false,\n  leftCollapse: false,\n  rightCollapse: false\n}\n\nexport const PLATFORMS = [ 'Web', 'iOS', 'Android' ]\n\nexport const WEB_MULTIPLE = [\n  {\n    label: '1x',\n    value: 1\n  }, {\n    label: '2x',\n    value: 2\n  }, {\n    label: '3x',\n    value: 3\n  }\n]\n\nexport const IOS_DENSITY = [\n  {\n    label: '@1x',\n    value: 1\n  }, {\n    label: '@2x',\n    value: 1/2\n  }, {\n    label: '@3x',\n    value: 1/3\n  }\n]\n\nexport const ANDROID_DENSITY = [\n  {\n    label: 'ldpi (4/3)',\n    value: 4/3\n  }, {\n    label: 'mdpi',\n    value: 1\n  }, {\n    label: 'tvdpi (3/4)',\n    value: 3/4\n  }, {\n    label: 'hdpi (2/3)',\n    value: 2/3\n  }, {\n    label: 'xhdpi (1/2)',\n    value: 1/2\n  }, {\n    label: 'xxhdpi (1/3)',\n    value: 1/3\n  }, {\n    label: 'xxxhdpi (1/4)',\n    value: 1/4\n  }\n]\n\nexport const NUMBER_FORMATS = [ 'retain 2', 'rounded integer', 'floored integer', 'ceiled integer']\n\nexport const UNITS = [ 'pt', 'dp', 'px', 'em', 'rem', 'rpx' ]\n\nexport const COLOR_FORMATS = [ 'HEX', 'HEXA', 'RGBA', 'HSLA' ]\n","import React, { createContext } from 'react'\nimport { DEFAULT_SETTINGS } from 'utils/const'\n\nconst SettingsContext = createContext({\n  globalSettings: DEFAULT_SETTINGS,\n  changeGlobalSettings: () => {}\n})\n\nexport const withGlobalSettings = (Component) =>\n  props =>\n    <SettingsContext.Consumer>\n      {(({globalSettings}) => <Component globalSettings={globalSettings} {...props}/>)}\n    </SettingsContext.Consumer>\n\nexport default SettingsContext\n","import React from 'react'\nimport Tooltip from 'rc-tooltip'\n\nexport default ({yes, tooltipProps, children}) =>\n  yes ?\n  <Tooltip {...tooltipProps}>\n    { children }\n  </Tooltip> :\n  children\n","import React, { useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport Tooltip from 'rc-tooltip'\nimport { copySomething } from 'utils/helper'\n\nconst WithCopy = ({children, text, className, callback, t, props}) => {\n  const [ visible, setVisible ] = useState(false)\n  const onCopied = () => {\n    const timer = setTimeout(() => {\n      setVisible(false)\n      clearTimeout(timer)\n    }, 1000)\n  }\n  const afterCopy = () => {\n    setVisible(true)\n    onCopied()\n    callback && callback()\n  }\n  return <Tooltip\n    visible={visible}\n    trigger={['click']}\n    overlay={t('copied tip')}\n    placement=\"top\"\n    transitionName=\"rc-tooltip-slide\"\n    {...props}\n  >\n    <span className={className} onClick={copySomething(text, afterCopy)}>\n      { children }\n    </span>\n  </Tooltip>\n}\n\nexport default withTranslation('utilities')(WithCopy)\n","import React from 'react'\nimport cn from 'classnames'\nimport './input-group.scss'\n\nexport default ({ children, className, isQuiet=false, onWrapperClick }) => {\n  return <span\n    className={\n      cn(\n        'input-group',\n        className,\n        {'input-group-quiet': isQuiet}\n      )\n    }\n    onClick={onWrapperClick}\n  >\n    { children }\n  </span>\n}\n","import React, { useState, useEffect } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport cn from 'classnames'\nimport { onInputClick } from 'utils/helper'\nimport WithTooltip from './WithTooltip'\nimport './copiable-input.scss'\n\nconst CopiableInput = ({ label, type='input', title, style, inputClass, isQuiet=false, labelWidth, onWrapperClick, value, t }) => {\n  const [ copied, setCopied ] = useState(false)\n  const [ timer, setTimer ] = useState()\n  const onCopied = () => {\n    let timer = setTimeout(() => {\n      setCopied(false)\n      clearTimeout(timer)\n    }, 1000)\n    setTimer(timer)\n  }\n  const handleClick = e => {\n    setCopied(true)\n    onInputClick(e, onCopied)\n  }\n  useEffect(() => {\n    return () => {\n      // clear when will unmount\n      timer!==undefined && clearTimeout(timer)\n    }\n  }, [timer])\n  return <span\n    key={value}\n    title={title}\n    className={cn('copiable-input', {'copiable-input-quiet': isQuiet})}\n    onClick={onWrapperClick}\n  >\n    {\n      label &&\n      <span className=\"copiable-label\" style={{width: labelWidth}}>{ label }</span>\n    }\n    <WithTooltip\n      yes\n      tooltipProps={{\n        trigger: [],\n        visible: copied,\n        overlay: t('copied tip'),\n        placement: 'top',\n        transitionName: 'rc-tooltip-slide'\n      }}\n    >\n      {\n        type==='input' ?\n        <input readOnly={true} onClick={handleClick} defaultValue={value} style={style} className={inputClass}/> :\n        <textarea readOnly={true} onClick={handleClick} defaultValue={value} style={style} className={inputClass}/>\n      }\n    </WithTooltip>\n  </span>\n}\n\nexport default withTranslation('utilities')(CopiableInput)\n","import React, { useEffect, useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { ChevronsLeft, ChevronsRight } from 'react-feather'\nimport cn from 'classnames'\nimport './collapse-button.scss'\n\nconst CollapseButton = ({placement='left', globalSettings, changeGlobalSettings, t}) => {\n  const isLeft = placement==='left'\n  const {leftCollapse, rightCollapse} = globalSettings\n  const [collapsed, setCollapsed] = useState(isLeft ? leftCollapse : rightCollapse)\n  // changed by outside actions, like shortcuts\n  useEffect(() => {\n    setCollapsed(isLeft ? leftCollapse : rightCollapse)\n  }, [isLeft, leftCollapse, rightCollapse])\n\n  const toggleCollapse = () => {\n    setCollapsed(!collapsed)\n    changeGlobalSettings(isLeft ? 'leftCollapse' : 'rightCollapse', !collapsed)\n  }\n  return (\n    <button\n      className={cn('collapse-button', `collapse-button-${placement}`)}\n      onClick={toggleCollapse}\n      title={t(`hide ${placement} sider`)}\n    >\n      {\n        collapsed ?\n        (isLeft ? <ChevronsRight size={16}/> : <ChevronsLeft size={16}/>) :\n        (isLeft ? <ChevronsLeft size={16}/> : <ChevronsRight size={16}/>)\n      }\n    </button>\n  )\n}\n\nexport default withTranslation('common')(CollapseButton)\n","import React from 'react'\n\nexport default () =>\n  <div className=\"entry-producthunt\">\n    <a\n      href=\"https://www.producthunt.com/posts/figma-handoff?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-figma-handoff\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <img\n        src=\"https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=184379&theme=light\"\n        alt=\"Figma Handoff - A Figma handoff tool, generate design mark for developers. | Product Hunt Embed\"\n      />\n    </a>\n  </div>\n","import React, { useState } from 'react'\nimport Tooltip from 'rc-tooltip'\nimport { Globe } from 'react-feather'\nimport { withTranslation } from 'react-i18next'\n\nconst languages = {\n  en: 'English',\n  zh: '中文'\n}\n\nconst LangSetting = ({i18n, globalSettings, onSettingsChange}) => {\n  const { language: lang } = globalSettings\n  if (!lang) {\n    onSettingsChange('language', 'zh')\n  }\n  const [language, setLanguage] = useState(lang || 'zh')\n  const changeLanguage = e => {\n    const { value } = e.target\n    setLanguage(value)\n    i18n.changeLanguage(value)\n    onSettingsChange('language', value)\n  }\n  return (\n    <Tooltip overlay=\"Change Language\" placement=\"top\" align={{offset: [0, 3]}}>\n      <a className=\"footer-language\" onClick={e => e.preventDefault()} href=\"/\">\n        <select value={language} onChange={changeLanguage}>\n          <option value=\"en\">English</option>\n          <option value=\"zh\">中文</option>\n        </select>\n        <Globe size={14}/>\n        <span>{languages[language]}</span>\n      </a>\n    </Tooltip>\n  )\n}\n\nexport default withTranslation('entry')(LangSetting)\n","// get mock file data\nexport const getMockFile = () =>\n  fetch(`${process.env.PUBLIC_URL}/data/file.json`)\n    .then(response => response.json())\n    .catch(function (error) {\n      console.dir(error)\n      return { err: error }\n    })\n\n// get buffer data\nexport const getBlobData = url =>\n  fetch(url)\n    .then(response => response.blob())\n    .catch(error => {\n      console.dir(error)\n      return { err: error }\n    })\n\n// get buffer data\nexport const getBufferData = url => {\n  return fetch(url)\n    .then(response => response.arrayBuffer())\n    .catch(error => {\n      console.dir(error)\n      return { err: error }\n    })\n}\n","export const reportEvent = (event, category, label, value) => {\n  window.gtag('event', event, {\n    event_category: category,\n    event_label: label,\n    value\n  })\n}\n","import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport cn from 'classnames'\nimport { GitHub, Coffee, DollarSign, Package, Mail, Link2, X } from 'react-feather'\nimport Tooltip from 'rc-tooltip'\nimport SettingsContext from 'contexts/SettingsContext'\nimport { WithCopy } from 'components/utilities'\nimport ProductHunt from './ProductHunt'\nimport LangSetting from './LangSetting'\nimport { getMockFile } from 'api'\nimport { walkFile, getPagedFrames, getSelectedPagedFrames } from 'utils/helper'\nimport { reportEvent } from 'utils/gtag'\nimport './entry.scss'\n\nclass Entry extends React.Component {\n  state = {\n    coffeeVisible: false,\n    isLoadingDemo: false\n  }\n  gotoDemo = async e => {\n    e && e.preventDefault()\n    reportEvent('view_demo', 'handoff_entry')\n    this.setState({isLoadingDemo: true})\n    const fileData = await getMockFile()\n    // get components and styles\n    const { components, styles, exportSettings } = walkFile(fileData, null, true)\n    const { onDataGot, onComponentsOptionChange } = this.props\n    const pagedFrames = getSelectedPagedFrames(getPagedFrames(fileData))\n    // demo has components list\n    onComponentsOptionChange && onComponentsOptionChange(true)\n    this.setState({isLoadingDemo: false})\n    onDataGot && onDataGot(fileData, components, styles, exportSettings, pagedFrames)\n  }\n  toggleCoffee = e => {\n    e.preventDefault()\n    const { coffeeVisible } = this.state\n    this.setState({\n      coffeeVisible: !coffeeVisible\n    })\n  }\n  componentDidMount () {\n    const { backFromDemo } = this.props\n    const { search } = window.location\n    const urlParams = new URLSearchParams(search)\n    const isDemo = urlParams.get('demo')\n    if (isDemo && !backFromDemo) {\n      this.gotoDemo()\n    }\n  }\n  render() {\n    const { t } = this.props\n    const { coffeeVisible, isLoadingDemo } = this.state\n    return (\n      <div className=\"app-entry\">\n        <div className=\"entry-container\">\n          <ProductHunt/>\n          <div className=\"entry-logo\">\n            <img className=\"hide\" src={`${process.env.PUBLIC_URL}/figmacn-logo.svg`} alt=\"figmacn logo\" ref={this.figmacnLogo}/>\n            <img src={`${process.env.PUBLIC_URL}/logo.svg`} alt=\"logo\" ref={this.logo}/>\n          </div>\n          <div className={cn('entry-main', {hide: coffeeVisible})}>\n            <p>\n              { t('use plugin description') }\n            </p>\n            <div className=\"main-buttons\">\n              <a\n                className=\"btn btn-lg btn-primary btn-round\"\n                href=\"https://www.figma.com/community/plugin/830051293378016221/Juuust-Handoff\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                onClick={() => reportEvent('view_plugin', 'handoff_entry')}\n              >\n                <Package size={16}/> {t('start now')}\n              </a>\n              <button\n                className=\"btn btn-lg btn-white-o btn-round\"\n                onClick={this.gotoDemo}\n                disabled={isLoadingDemo}\n              >\n                {isLoadingDemo ? t('demo loading') : t('demo')}\n              </button>\n            </div>\n          </div>\n          <div className={cn('entry-coffee', {hide: !coffeeVisible})}>\n            <X size={36} className=\"coffee-close\" onClick={this.toggleCoffee}/>\n            <img src={require('./qrcode.jpg')} alt=\"coffee qrcode\"/>\n            <div className=\"coffee-or\">Or</div>\n            <a href=\"https://paypal.me/leadream\" target=\"_blank\" rel=\"noopener noreferrer\"><DollarSign size={12}/> {t('paypal')}</a>\n          </div>\n          <div className=\"entry-footer\">\n            <SettingsContext.Consumer>\n              {({globalSettings, changeGlobalSettings}) => (\n                <LangSetting\n                  globalSettings={globalSettings}\n                  onSettingsChange={changeGlobalSettings}\n                />\n              )}\n            </SettingsContext.Consumer>\n            <span className=\"footer-stretch\"/>\n            <Tooltip overlay={t('github')} placement=\"top\" align={{offset: [0, 3]}}>\n              <a className=\"footer-item\" href=\"https://github.com/leadream/figma-handoff\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <GitHub size={14}/>\n              </a>\n            </Tooltip>\n            <Tooltip overlay={t('buy me a coffee')} placement=\"top\" align={{offset: [0, 3]}}>\n              <a className=\"footer-item\" onClick={this.toggleCoffee} href=\"/\"><Coffee size={14}/></a>\n            </Tooltip>\n          </div>\n          <div className=\"entry-social\">\n            <h5>{t('contact me')}</h5>\n            <div className=\"social-item\">\n              <WithCopy text=\"leadream4@gmail.com\">\n                <Mail size={14}/> leadream4@gmail.com\n              </WithCopy>\n            </div>\n            <div className=\"social-item\">\n              <a href=\"https://juuun.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <Link2 size={14}/> https://juuun.io\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withTranslation('entry')(Entry)\n","import React from 'react'\nimport cn from 'classnames'\nimport { ChevronRight } from 'react-feather'\nimport Cascader from 'rc-cascader'\nimport { getFrameOptions, filterFrameOptions } from 'utils/helper'\nimport './frame-selector.scss'\n\nclass FrameSelector extends React.Component {\n  defaultOptions = getFrameOptions(this.props.pagedFrames)\n  state = {\n    frameOptions: this.defaultOptions,\n    selectedValue: [this.props.pageId, this.props.frameId],\n    selectedText: `${this.defaultOptions[0].label} / ${this.defaultOptions[0].children[0].label}`,\n    inputValue: '',\n    activeValue: null\n  }\n  handleCascaderChange = (value, selectedOptions) => {\n    const { onSelected } = this.props\n    const { frameOptions } = this.state\n    let selectedValue = value, selectedText = selectedOptions.map(o => o.label).join(' / ')\n    if (value.length===1) {\n      const selectedFrame = frameOptions.find(o => o.value===value[0]).children[0]\n      selectedValue.push(selectedFrame.value)\n      selectedText = [selectedText, selectedFrame.label].join(' / ')\n    }\n    this.setState({\n      activeValue: null,\n      selectedValue,\n      selectedText\n    })\n    onSelected(...value)\n  }\n  handleInputChange = e => {\n    const value = !!e ? e.target.value : ''\n    this.setState({\n      popupVisible: !!value,\n      inputValue: value,\n      frameOptions: value ? filterFrameOptions(this.defaultOptions, value) : this.defaultOptions\n    })\n  }\n  handleKeyDown = e => {\n    // press delete or space\n    if (e.keyCode === 8 || e.keyCode === 32) {\n      e.stopPropagation()\n    }\n    // press up or down\n    if (e.keyCode === 38 || e.keyCode === 40) {\n      const { frameOptions, selectedValue } = this.state\n      if (!frameOptions.length) {\n        e.stopPropagation()\n      } else if (!this.getIfValueInOptions(selectedValue, frameOptions)) {\n        // if selectedValue is not in current options\n        // select the first frame when press up or down\n        this.setState({\n          selectedValue: [frameOptions[0].value, frameOptions[0].children[0].value],\n          selectedText: `${frameOptions[0].label} / ${frameOptions[0].children[0].label}`,\n          // remember selected value\n          activeValue: selectedValue\n        })\n      }\n    }\n  }\n  getIfValueInOptions = (selectedValue, frameOptions) => {\n    const isPageInOptions = frameOptions.some(p => p.value === selectedValue[0])\n    if (isPageInOptions) {\n      const { children } = frameOptions.find(p => p.value === selectedValue[0])\n      const isFrameInOptions = children.some(f => f.value === selectedValue[1])\n      return isFrameInOptions\n    } else {\n      return false\n    }\n  }\n  handlePopupVisibleChange = popupVisible => {\n    this.setState({\n      popupVisible\n    }, () => {\n      // reset frameOptions and inputValue when closing popup\n      !popupVisible && this.handleInputChange()\n      const { activeValue } = this.state\n      if (!popupVisible && activeValue) {\n        this.setState({\n          selectedValue: activeValue,\n          selectedText: this.getSelectedTextByValue(activeValue[0], activeValue[1])\n        })\n      }\n    })\n  }\n  getSelectedTextByValue = (pageId, frameId) => {\n    const page = this.defaultOptions.filter(p => p.value===pageId)[0]\n    const frame = page.children.filter(f => f.value===frameId)[0]\n    return `${page.label} / ${frame.label}`\n  }\n  componentDidUpdate(prevProps) {\n    const { frameId } = this.props\n    const { selectedValue } = this.state\n    // when frame changing by sider click\n    if (frameId !== prevProps.frameId && frameId !== selectedValue[1]) {\n      const pageId = selectedValue[0]\n      this.setState({\n        selectedValue: [pageId, frameId],\n        selectedText: this.getSelectedTextByValue(pageId, frameId)\n      })\n    }\n  }\n  render () {\n    const { frameOptions, selectedValue, selectedText, inputValue, popupVisible } = this.state\n    return (\n      <Cascader\n        options={frameOptions}\n        onChange={this.handleCascaderChange}\n        changeOnSelect={true}\n        expandIcon={<ChevronRight size={14}/>}\n        value={selectedValue}\n        popupVisible={popupVisible}\n        onPopupVisibleChange={this.handlePopupVisibleChange}\n        expandTrigger=\"hover\"\n        transitionName=\"slide-up\"\n      >\n        <div className=\"frame-selector\" title={selectedText}>\n          {\n            (!inputValue || !popupVisible) &&\n            <div className=\"frame-selector-result\">{selectedText}</div>\n          }\n          <input\n            tabIndex=\"-1\"\n            className={cn('input', {'input-has-value': !!inputValue})}\n            value={inputValue}\n            onChange={this.handleInputChange}\n            onKeyDown={this.handleKeyDown}\n          />\n        </div>\n      </Cascader>\n    )\n  }\n}\n\nexport default FrameSelector\n","import React, { Fragment } from 'react'\nimport cn from 'classnames'\nimport { withTranslation } from 'react-i18next'\nimport FrameSelector from './FrameSelector'\nimport { getUrlImage } from 'utils/helper'\n\nclass Frames extends React.Component {\n  constructor (props) {\n    super(props)\n    const { onFrameChange } = props\n    const pageId = Object.keys(props.pagedFrames)[0]\n    const { frames, frameId } = this.getDefaultFrame(pageId)\n    this.state = {\n      pageId,\n      frames,\n      frameId\n    }\n    onFrameChange(frameId, pageId)\n  }\n  getDefaultFrame = (pageId) => {\n    const { pagedFrames } = this.props\n    const { frames } = pagedFrames[pageId]\n    return {\n      frames,\n      frameId: frames[0].id\n    }\n  }\n  handlePageChange = (pageId, frameId) => {\n    const { onFrameChange } = this.props\n    this.setState({\n      pageId,\n      frameId,\n      frames: this.getDefaultFrame(pageId).frames\n    }, () => {\n      onFrameChange(frameId, pageId)\n    })\n  }\n  handleFrameSelect = frameId => {\n    const { onFrameChange } = this.props\n    const { pageId } = this.state\n    this.setState({ frameId })\n    onFrameChange(frameId, pageId)\n  }\n  componentDidUpdate(prevProps) {\n    const { onFrameChange } = this.props\n    const { pageId, frameId } = this.state\n    // when tab changing\n    if (this.props.visible && (this.props.visible !== prevProps.visible)) {\n      onFrameChange(frameId, pageId)\n    }\n  }\n  render () {\n    const { pagedFrames, visible, useLocalImages, images } = this.props\n    const { frames, pageId, frameId } = this.state\n    return (\n      <Fragment>\n        <div className={cn('list-filter', {hide: !visible})}>\n          <FrameSelector\n            pageId={pageId}\n            frameId={frameId}\n            pagedFrames={pagedFrames}\n            onSelected={this.handlePageChange}\n          />\n        </div>\n        <ul className={cn('list-items list-frames', {hide: !visible})}>\n          {\n            frames.map(\n              frame =>\n                <li\n                  key={frame.id}\n                  title={frame.name}\n                  className={cn({selected: frameId===frame.id})}\n                  onClick={() => this.handleFrameSelect(frame.id)}\n                >\n                  <div\n                    className=\"item-thumbnail\"\n                    style={{\n                      backgroundImage: getUrlImage(frame.id, useLocalImages, images)\n                    }}\n                  />\n                  <span>{frame.name}</span>\n                </li>\n            )\n          }\n        </ul>\n      </Fragment>\n    )\n  }\n}\n\nexport default withTranslation('left')(Frames)\n","import React, { Fragment } from 'react'\nimport cn from 'classnames'\nimport { X } from 'react-feather'\nimport { withTranslation } from 'react-i18next'\nimport { WithTooltip } from 'components/utilities'\nimport { getUrlImage } from 'utils/helper'\n\nclass Components extends React.Component {\n  defaultComponents = this.props.components.map(c =>({...c, filterVisible: true}))\n  state = {\n    inputValue: '',\n    components: this.defaultComponents,\n    selectedIndex: 0\n  }\n  handleComponentSelect = (index, componentId) => {\n    const { onComponentChange } = this.props\n    this.setState({\n      inputValue: '',\n      components: this.defaultComponents,\n      selectedIndex: index\n    })\n    onComponentChange && onComponentChange(componentId)\n  }\n  handleInputChange = e => {\n    const inputValue = e.target.value\n    this.setState({\n      inputValue,\n      components: this.defaultComponents\n        .map(c =>({\n          ...c,\n          filterVisible: c.name.toLowerCase().indexOf(inputValue.toLowerCase())>-1\n        }))\n    })\n  }\n  handleKeyDown = e => {\n    if (e.keyCode===27) {\n      this.resetInput()\n    }\n  }\n  resetInput = () => {\n    this.setState({\n      inputValue: '',\n      components: this.defaultComponents\n    })\n  }\n  componentDidUpdate(prevProps) {\n    const { components } = this.props\n    const { selectedIndex } = this.state\n    if (this.props.visible && (this.props.visible !== prevProps.visible) && components.length) {\n      this.handleComponentSelect(selectedIndex, components[selectedIndex].id)\n    }\n  }\n  render () {\n    const { visible, useLocalImages, images, t } = this.props\n    const { inputValue, components, selectedIndex } = this.state\n    return (\n      <Fragment>\n        <div className={cn('list-filter', {hide: !visible})}>\n          <input\n            className=\"input\"\n            value={inputValue}\n            onChange={this.handleInputChange}\n            onKeyDown={this.handleKeyDown}\n            placeholder={t('component placeholder')}\n          />\n          {\n            inputValue &&\n            <X size={14} className=\"filter-clear\" onClick={this.resetInput}/>\n          }\n        </div>\n        <ul className={cn('list-items list-components', {hide: !visible})}>\n          {\n            !!components.length ?\n            components.map(\n              (component, index) =>\n                <WithTooltip\n                  key={component.id}\n                  yes={!!component.description}\n                  tooltipProps={{overlay: component.description, placement: 'right'}}\n                >                                  \n                  <li\n                    className={cn({'list-item-hidden': !component.filterVisible, selected: index===selectedIndex})}\n                    onClick={() => this.handleComponentSelect(index, component.id)}\n                    title={component.name}\n                  >\n                    <div\n                      className=\"item-thumbnail\"\n                      style={{\n                        backgroundImage: getUrlImage(component.id, useLocalImages, images)\n                      }}\n                    />\n                    <span>{component.name}</span>\n                  </li>\n                </WithTooltip>\n            ) :\n            <li className=\"item-empty\">{t('no components')}</li>\n          }\n        </ul>\n      </Fragment>\n    )\n  }\n}\n\nexport default withTranslation('left')(Components)\n","import React from 'react'\nimport cn from 'classnames'\nimport { withTranslation } from 'react-i18next'\nimport SettingsContext, { withGlobalSettings } from 'contexts/SettingsContext'\nimport { CollapseButton } from 'components/utilities'\nimport Frames from './Frames'\nimport Components from './Components'\nimport './index.scss'\n\nclass LeftPanel extends React.Component {\n  state = {\n    tabIndex: 0\n  }\n  handleTabClick = (index) => {\n    const { tabIndex } = this.state\n    if (tabIndex===index) return\n    this.setState({ tabIndex: index })\n  }\n  onItemChange = (itemId, pageId) => {\n    const { onFrameOrComponentChange } = this.props\n    onFrameOrComponentChange && onFrameOrComponentChange(itemId, pageId)\n  }\n  render () {\n    const { components, includeComponents, useLocalImages, images, pagedFrames, globalSettings, onSiderTransitionEnd, t } = this.props\n    const { leftCollapse } = globalSettings\n    const { tabIndex } = this.state\n    return (\n      <div\n        className={cn('main-left', {collapsed: leftCollapse})}\n        onTransitionEnd={onSiderTransitionEnd}\n      >\n        <SettingsContext.Consumer>\n          {({globalSettings, changeGlobalSettings}) => (\n            <CollapseButton\n              placement=\"left\"\n              globalSettings={globalSettings}\n              changeGlobalSettings={changeGlobalSettings}\n            />\n          )}\n        </SettingsContext.Consumer>\n        <div className=\"left-sider\">\n          {\n            !!includeComponents &&\n            <ul className=\"left-sider-tabs\">\n              <li\n                className={cn({selected: tabIndex===0})}\n                onClick={() => this.handleTabClick(0)}\n              >{t('pages')}</li>\n              <li\n                className={cn({selected: tabIndex===1})}\n                onClick={() => this.handleTabClick(1)}\n              >{t('components')}</li>\n            </ul>\n          }\n          <div className={cn('left-sider-list', {'without-tab': !includeComponents})}>\n            <Frames\n              visible={tabIndex===0}\n              pagedFrames={pagedFrames}\n              useLocalImages={useLocalImages}\n              images={images}\n              onFrameChange={this.onItemChange}\n            />\n            {\n              !!includeComponents &&\n              <Components\n                visible={tabIndex===1}\n                components={components}\n                useLocalImages={useLocalImages}\n                images={images}\n                onComponentChange={this.onItemChange}\n              />\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withTranslation('left')(withGlobalSettings(LeftPanel))\n","// 0.32 -> 32%\nexport const toPercentage = num => `${num*100}%`\n\n// avoid so many numbers after point\nexport const toMarkPercentage = num => `${(num*100).toFixed(1)}%`\n\n// '100px' -> 100\nexport const px2number = str => str.replace('px', '') - 0\n\n// 0.2637378 -> 0.26, 8 -> 8\nexport const toFixed = (num, numberFormat=0) => {\n  // 非数字\n  if (typeof num!=='number') {\n    return ''\n  }\n  // 整数原样返回\n  if (Math.round(num)===num) {\n    return num\n  }\n  // 非整数\n  switch(numberFormat) {\n    case 0:\n      return (num.toFixed(2) - 0)\n    case 1:\n      return Math.round(num)\n    case 2:\n      return Math.floor(num)\n    case 3:\n      return Math.ceil(num)\n    default:\n      return (num.toFixed(2) - 0)\n  }\n}\n\n// generate box data\nexport const generateRects = (nodes, docRect, disableInspectExportInner) => {\n  let index = 0\n  const rects = []\n  let exportIds = []\n  const step = (nodes, parentId, parentComponentId, parentPaths) => {\n    let maskParentId = ''\n    let maskbb = {}\n    let maskIndex\n    let innerIndex = 0\n    // start looping\n    nodes.map(node => {\n      const nbb = node.absoluteBoundingBox\n      let maskedElementBound = null\n      // deal with mask\n      if (node.isMask) {\n        // mask start\n        maskParentId = parentId\n        maskbb = node.absoluteBoundingBox\n        maskIndex = index\n      } else if (maskParentId && (node.type==='FRAME' ||  node.type==='COMPONENT' || node.type==='INSTANCE')) {\n        // mask stop\n        maskParentId = ''\n      } else if (parentId===maskParentId && !node.isMask) {\n        // elements of mask\n        // if out of mask should jump out\n        if (isOutOfMask(maskbb, nbb)) {\n          // eslint-disable-next-line\n          return\n        } else {\n          maskedElementBound = getMaskedElementBound(maskIndex, maskbb, nbb, docRect)\n        }\n      }\n\n      // don't deal with invisible element\n      if (node.visible===false) {\n        // eslint-disable-next-line\n        return\n      }\n\n      const bound = getBound(nbb, docRect)\n      const isDirectFrame = index===0\n      const isComponent = node.type==='COMPONENT' || node.type==='INSTANCE'\n      const isGroup = node.type==='GROUP'\n      // TODO: should in global exportSettings\n      const hasExports = node.exportSettings && node.exportSettings.length\n      const clazz = []\n      isComponent && clazz.push('component')\n      isGroup && clazz.push('group')\n      hasExports && clazz.push('has-exports')\n      const nativeId = node.type==='COMPONENT' ? node.id : node.componentId\n      const componentIds = [parentComponentId, nativeId].filter(id => id).join()\n      const currentPaths = !parentPaths ? [innerIndex] : [...parentPaths, innerIndex]\n      if (hasExports) {\n        exportIds = exportIds.concat(node.exportSettings.map(() => node.id))\n      }\n      rects.push({\n        // position in every level\n        paths: currentPaths,\n        index: index++,\n        ...bound,\n        maskedBound: maskedElementBound,\n        actualWidth: toFixed(nbb.width),\n        actualHeight: toFixed(nbb.height),\n        title: node.name,\n        isComponent,\n        componentIds,\n        clazz,\n        node\n      })\n      innerIndex++\n      // if has children, not boolean and mask element, then continue\n      if (\n        (disableInspectExportInner && hasExports && !isDirectFrame) ||\n        !node.children ||\n        node.type==='BOOLEAN_OPERATION' ||\n        node.isMask\n      ) {\n        // eslint-disable-next-line\n        return\n      }\n      step(node.children, node.id, componentIds, currentPaths)\n      // eslint-disable-next-line\n      return\n    })\n  }\n  step(nodes)\n  return {rects, exportIds}\n}\n\n// go back to find it's component when selected\nexport const findParentComponent = (currentIndex, rect, rects) => {\n  let index = currentIndex\n  const currentIsComponent = rect.node.type === 'COMPONENT' || rect.node.type === 'INSTANCE'\n  if (currentIsComponent && rect.componentIds.split(',').length>1) {\n    index--\n  }\n  while (index > -1 && rect.componentIds) {\n    const { type, componentId } = rects[index].node\n    if (type==='COMPONENT' || type==='INSTANCE') {\n      return { index, componentId }\n    }\n    index--\n  }\n  return {}\n}\n\nexport const isOutOfMask = (mask, target) => {\n  // target is at left of mask\n  if (target.x + target.width<=mask.x) {\n    return true\n  }\n  // target is at right of mask\n  else if (target.x>=mask.x + mask.width) {\n    return true\n  }\n  // target is at top of mask\n  else if (target.y + target.height<=mask.y) {\n    return true\n  }\n  // target is at bottom of mask\n  else if (target.y>=mask.y + mask.height) {\n    return true\n  }\n  return false\n}\n\nexport const getMaskedElementBound = (maskIndex, mask, target, docRect) => {\n  const maskBottom = mask.y+mask.height\n  const targetBottom = target.y+target.height\n  const top = (target.y<mask.y ? mask.y : target.y) - docRect.y\n  const bottom = (targetBottom>maskBottom ? maskBottom : targetBottom) - docRect.y\n  const maskRight = mask.x+mask.width\n  const targetRight = target.x+target.width\n  const left = (target.x<mask.x ? mask.x : target.x) - docRect.x\n  const right = (targetRight>maskRight ? maskRight : targetRight) - docRect.x\n  const width = right - left\n  const height = bottom - top\n\n  return { top, left, bottom, right, width, height, maskIndex }\n}\n\nexport const getBound = (nodeBound, docRect) => {\n  const top = nodeBound.y - docRect.y\n  const left = nodeBound.x - docRect.x\n  const width = nodeBound.width\n  const height = nodeBound.height\n  return {\n    top,\n    left,\n    bottom: top+height,\n    right: left+width,\n    width: width,\n    height: height\n  }\n}\n\n// get Bound of Frame\nexport const getFrameBound = (strokes, strokeWeight, strokeAlign, effects) => {\n  let strokeBase = 0\n  const visibleStrokes = strokes.filter(({visible}) => visible!==false)\n  if (visibleStrokes.length > 0) {\n    switch (strokeAlign) {\n      case 'OUTSIDE':\n        strokeBase += strokeWeight\n        break\n      case 'CENTER':\n        strokeBase += strokeWeight/2\n        break\n      default:\n        strokeBase += 0\n    }\n  }\n\n  const bound = { top: 0, bottom: 0, left: 0, right: 0 }\n  effects\n    .filter(({type, visible}) => (type==='DROP_SHADOW' || type==='LAYER_BLUR') && visible!==false)\n    // eslint-disable-next-line\n    .map(effect => {\n      const { offset, radius, spread } = effect\n      const fallbackSpread = spread || 0\n      const x = offset ? offset.x : 0\n      const y = offset ? offset.y : 0\n      bound.top = Math.max(radius+fallbackSpread-y, bound.top, 0)\n      bound.bottom = Math.max(radius+fallbackSpread+y, bound.bottom, 0)\n      bound.left = Math.max(radius+fallbackSpread-x, bound.left, 0)\n      bound.right = Math.max(radius+fallbackSpread+x, bound.right, 0)\n    })\n  Object.keys(bound)\n    .map(key => bound[key] += strokeBase)\n  return bound\n}\n\n// return: selected position, not intersect direction\nexport const getPosition = (selected, target) => {\n  const position = {}\n  if (selected.top>=target.bottom) {\n    position.v = [selected.top - target.bottom, 1]\n  }\n  if (target.top>=selected.bottom) {\n    position.v = [target.top - selected.bottom, 0]\n  }\n  if (selected.left>=target.right) {\n    position.h = [selected.left - target.right, 1]\n  }\n  if (target.left>=selected.right) {\n    position.h = [target.left - selected.right, 0]\n  }\n  return position\n}\n\n// get sorted four numbers\nexport const getSortedNumbers = (numbers) =>\n  numbers.length!==4 ? [] : [...numbers].sort((a,b) => a - b)\n\n// get middle two from four numbers\nexport const getMidNumbers = (numbers) =>\n  getSortedNumbers(numbers).slice(1, 3)\n\n// get middle two from four numbers\nexport const getEverage = (numbers) =>\n  (numbers.reduce((a, b) => a + b, 0))/numbers.length\n\nexport const getNums = (direction, verticalNums, horizontalNums) =>\n  direction==='v' ?\n  {\n    'parallel': [...verticalNums],\n    'intersect': [...horizontalNums]\n  } :\n  {\n    'parallel': [...horizontalNums],\n    'intersect': [...verticalNums]\n  }\n\nexport const getOrderedNums = (nums) => {\n  const orderedNums = {}\n  Object\n    .keys(nums)\n    .map(key => {\n      orderedNums[key] = getSortedNumbers(nums[key])\n      return key\n    })\n  return orderedNums\n}\n\nexport const getMidIndex = (intersectNums, closerIndex) => {\n  const flag = closerIndex===0 ? 1 : -1\n  return [\n    (intersectNums[0]-intersectNums[2])*flag>0 ? 0 : 1,\n    (intersectNums[1]-intersectNums[3])*flag>0 ? 1 : 0\n  ]\n}\n\nexport const getParallelSpacing = (parallelNums) =>\n  parallelNums[2] - parallelNums[1]\n\nexport const getMargin = (intersectNums, whichOne) =>\n  intersectNums[whichOne==='smaller' ? 1 : 3]-intersectNums[whichOne==='smaller' ? 0 : 2]\n\n// selectedRect is clicked box\n// targetRect is hovered box\nexport const isIntersect = (selectedRect, targetRect) => {\n  return !(\n    selectedRect.right <= targetRect.left ||\n    selectedRect.left >= targetRect.right ||\n    selectedRect.top >= targetRect.bottom ||\n    selectedRect.bottom <= targetRect.top\n  )\n}\n\n// calculate distance data\nexport const calculateMarkData = (selected, target, pageRect) => {\n  // has selected and not the the same\n  if (selected && (selected.index !== target.index)){\n    const pw = pageRect.width\n    const ph = pageRect.height\n    const selectedMidX = selected.left + selected.width / 2\n    const selectedMidY = selected.top + selected.height / 2\n    const verticalNums = [selected.top, selected.bottom, target.top, target.bottom]\n    const horizontalNums = [selected.left, selected.right, target.left, target.right]\n    const distanceData = [], rulerData = []\n    // not intersect\n    if (!isIntersect(selected, target)) {\n      const position = getPosition(selected, target)\n      if (position.v && position.h && position.v[0]>0 && position.h[0]>0) {\n        // not intersect in any direction\n        const spacingV = position.v[0]\n        const spacingH = position.h[0]\n        const selectedIsCloserV = position.v[1]===0\n        const selectedIsCloserH = position.h[1]===0\n        distanceData.push({\n          x: (selectedIsCloserH ? selected.right : target.right)/pw,\n          y: selectedMidY/ph,\n          w: spacingH/pw,\n          distance: toFixed(spacingH)\n        })\n        distanceData.push({\n          x: selectedMidX/pw,\n          y: (selectedIsCloserV ? selected.bottom : target.bottom)/ph,\n          h: spacingV/ph,\n          distance: toFixed(spacingV)\n        })\n        rulerData.push({\n          x: (selectedIsCloserH ? selectedMidX : target.right)/pw,\n          y: (selectedIsCloserV ? target.top : target.bottom)/ph,\n          w: (selected.width/2 + spacingH)/pw,\n          distance: toFixed(selected.width/2 + spacingH)\n        })\n        rulerData.push({\n          x: (selectedIsCloserH ? target.left : target.right)/pw,\n          y: (selectedIsCloserV ? selectedMidY : target.bottom)/ph,\n          h: (selected.height/2 + spacingV)/ph,\n          distance: toFixed(selected.height/2 + spacingV)\n        })\n      } else if (position.v && position.h && (position.v[0]===0 || position.h[0]===0)) {\n        // intersect at a point\n        if (position.v[0]===0 && position.h[0]===0) {\n          const sortedVNumbers = getSortedNumbers(verticalNums)\n          const sortedHNumbers = getSortedNumbers(horizontalNums)\n          const edges = [sortedVNumbers[0], sortedVNumbers[3], sortedHNumbers[0], sortedHNumbers[3]]\n          const mids = [sortedVNumbers[1], sortedHNumbers[1]]\n          // position like \\\n          const isBackslashed = position.v[1]===position.h[1]\n          edges.map((edge, index) => {\n            let unfixedNum, d\n            const flag = index%2===0 ? isBackslashed : !isBackslashed\n            if (index<2) {\n              unfixedNum = flag ? mids[1] : edges[2]\n              d = flag ? edges[3]-mids[1] : mids[1]-edges[2]\n            } else {\n              unfixedNum = flag ? mids[0] : edges[0]\n              d = flag ? edges[1]-mids[0] : mids[0]-edges[0]\n            }\n            distanceData.push({\n              x: (index<2 ? unfixedNum : edge)/pw,\n              y: (index<2 ? edge : unfixedNum)/ph,\n              [index<2 ? 'w' : 'h']: d/(index<2 ? pw : ph),\n              distance: toFixed(d)\n            })\n            return edge\n          })\n        } else {\n          const direction = position.v[0]!==0 ? 'v' : 'h'\n          const nums = getNums(direction, verticalNums, horizontalNums)\n          const orderedNums = getOrderedNums(nums)\n          distanceData.push({\n            x: direction==='v' ? orderedNums['intersect'][1]/pw : orderedNums['parallel'][1]/pw,\n            y: direction==='v' ? orderedNums['parallel'][1]/ph : orderedNums['intersect'][1]/ph,\n            [direction==='v' ? 'h' : 'w']: (position[direction][0])/(direction==='v' ? ph : pw),\n            distance: toFixed(position[direction][0])\n          })\n        }\n      } else {\n        // intersect vertically, parallel horizontally, or opposite\n        const direction = position.v ? 'v' : 'h'\n        const closerIndex = position[direction][1]\n        const nums = getNums(direction, verticalNums, horizontalNums)\n        const orderedNums = getOrderedNums(nums)\n        const mids =[getEverage(orderedNums['parallel'].slice(0, 2)), getEverage(orderedNums['parallel'].slice(2))]\n        const midIndex = getMidIndex(nums['intersect'], closerIndex)\n        const parallelSpacing = getParallelSpacing(orderedNums['parallel'])\n        const margins = [getMargin(orderedNums['intersect'], 'smaller'), getMargin(orderedNums['intersect'])]\n        if (parallelSpacing!==0) {\n          distanceData.push({\n            x: direction==='v' ? getEverage(orderedNums['intersect'].slice(1,3))/pw : orderedNums['parallel'][1]/pw,\n            y: direction==='v' ? orderedNums['parallel'][1]/ph : getEverage(orderedNums['intersect'].slice(1,3))/ph,\n            [direction==='v' ? 'h' : 'w']: (parallelSpacing)/(direction==='v' ? ph : pw),\n            distance: toFixed(parallelSpacing)\n          })\n        }\n        margins.map((margin, index) => {\n          if (margin!==0) {\n            const rulerUnfixedStart = midIndex[index]===0 ? mids[0] : orderedNums['parallel'][1]\n            const rulerDistance = midIndex[index]===0 ? (orderedNums['parallel'][2] - mids[0]) : (mids[1] - orderedNums['parallel'][1])\n            distanceData.push({\n              x: (direction==='v' ? orderedNums['intersect'][index*2] : mids[midIndex[index]])/pw,\n              y: (direction==='v' ? mids[midIndex[index]] : orderedNums['intersect'][index*2])/ph,\n              [direction==='v' ? 'w' : 'h']: margin/(direction==='v' ? pw : ph),\n              distance: toFixed(margin)\n            })\n            rulerData.push({\n              x: (direction==='v' ? orderedNums['intersect'][index*3] : rulerUnfixedStart)/pw,\n              y: (direction==='v' ? rulerUnfixedStart : orderedNums['intersect'][index*3])/ph,\n              [direction==='v' ? 'h' : 'w']: rulerDistance/(direction==='v' ? ph : pw),\n              distance: toFixed(rulerDistance/(direction==='v' ? ph : pw))\n            })\n          }\n          return margin\n        })\n      }\n    } else {\n      const sortedVNumbers = getSortedNumbers(verticalNums)\n      const sortedHNumbers = getSortedNumbers(horizontalNums)\n      const x = getEverage(getMidNumbers(sortedHNumbers))\n      const y = getEverage(getMidNumbers(sortedVNumbers))\n      if (sortedVNumbers[1] - sortedVNumbers[0]!==0) {\n        distanceData.push({\n          x: x/pw,\n          y: sortedVNumbers[0]/ph,\n          h: (sortedVNumbers[1] - sortedVNumbers[0])/ph,\n          distance: toFixed(sortedVNumbers[1] - sortedVNumbers[0])\n        })\n      }\n      if (sortedVNumbers[3] - sortedVNumbers[2]!==0) {\n        distanceData.push({\n          x: x/pw,\n          y: sortedVNumbers[2]/ph,\n          h: (sortedVNumbers[3] - sortedVNumbers[2])/ph,\n          distance: toFixed(sortedVNumbers[3] - sortedVNumbers[2])\n        })\n      }\n      if (sortedHNumbers[1] - sortedHNumbers[0]!==0) {\n        distanceData.push({\n          x: sortedHNumbers[0]/pw,\n          y: y/ph,\n          w: (sortedHNumbers[1] - sortedHNumbers[0])/pw,\n          distance: toFixed(sortedHNumbers[1] - sortedHNumbers[0])\n        })\n      }\n      if (sortedHNumbers[3] - sortedHNumbers[2]!==0) {\n        distanceData.push({\n          x: sortedHNumbers[2]/pw,\n          y: y/ph,\n          w: (sortedHNumbers[3] - sortedHNumbers[2])/pw,\n          distance: toFixed(sortedHNumbers[3] - sortedHNumbers[2])\n        })\n      }\n    }\n    return {\n      distanceData,\n      rulerData\n    }\n  } else {\n    return {}\n  }\n}\n","import Color from \"color\"\nimport { toFixed } from 'utils/mark'\nimport { DEFAULT_SETTINGS, WEB_MULTIPLE, IOS_DENSITY, ANDROID_DENSITY, UNITS, COLOR_FORMATS } from 'utils/const'\n\nconst resolutions = [ WEB_MULTIPLE, IOS_DENSITY, ANDROID_DENSITY ]\n\nexport const polyfillAlpha = alpha =>\n  typeof alpha!=='number' ? 1 : alpha\n\nexport const getRGBAObj = color => {\n  const alpha = polyfillAlpha(color.a)\n  return ({r: (color.r*255).toFixed(), g: (color.g*255).toFixed(), b: (color.b*255).toFixed(), alpha: toFixed(alpha)})\n}\n\nexport const getColor = color =>\n  Color(getRGBAObj(color))\n\nexport const getRGB = color => {\n  const rgba = getRGBAObj(color)\n  delete rgba.alpha\n  return Object.keys(rgba)\n    .map(key => rgba[key])\n    .join(', ')\n}\n\nexport const getCSSRGBA = (color, opacity) => {\n  (typeof opacity === 'number') && (color.a = opacity)\n  const colorObject = getRGBAObj(color)\n  const keys = Object.keys(colorObject)\n  return `rgba(${keys.map(key => colorObject[key]).join(',')})`\n}\n\nexport const getCSSHEX = color =>\n  getColor(color).hex()\n\nexport const getCSSHEXA = (color, opacity) => {\n  (typeof opacity === 'number') && (color.a = opacity)\n  const alpha = getColor(color).valpha\n  const hexAlpha = (\"0\" + parseInt(alpha*256,10)\n    .toString(16))\n    .slice(-2)\n    .toUpperCase()\n  return  getCSSHEX(color) + hexAlpha\n}\n\nexport const getCSSHSLA = (color, opacity) => {\n  (typeof opacity === 'number') && (color.a = opacity)\n  const c = getColor(color).hsl().string()\n  const hsl = c.split(',')\n    .map((part, index) =>\n      index===0 ? part.split('(')[0] + '(' + toFixed(part.split('(')[1] - 0) : part\n    )\n    .join()\n  return hsl\n}\n\nexport const getCSSAlpha = color =>\n  getColor(color).alpha()\n\nexport const formattedColor = (colorFormat, color) => {\n  const key = COLOR_FORMATS[colorFormat].toLowerCase()\n  return color[key]\n}\n\nexport const getPercentage = num =>\n  `${toFixed(num)==='' ? 100 : toFixed(num)*100 }%`\n\nexport const getOpacity = opacity =>\n  toFixed(opacity) || 1\n\nexport const getStops = stops =>\n  stops.map(stop => ({\n    position: getPercentage(stop.position),\n    hex: getCSSHEX(stop.color),\n    hexa: getCSSHEXA(stop.color),\n    rgba: getCSSRGBA(stop.color),\n    hsla: getCSSHSLA(stop.color),\n    alpha: toFixed(polyfillAlpha(stop.color.a))\n  }))\n\n// default RGBA\nexport const stopsToBackground = (stops, colorFormat=2, separator=', ') =>\n  stops.map(stop =>\n    formattedColor(colorFormat, stop) + ' ' + stop.position\n  ).join(separator)\n\nexport const getGradientDegreeFromMatrix = gradientTransform => {\n  const angle = Math.atan2(-gradientTransform[1][0], gradientTransform[0][0]) * (180 / Math.PI)\n  if (angle >= -180 && angle <= 90) {\n    return toFixed(angle+90) + '°'\n  } else {\n    return toFixed(angle-270) + '°'\n  }\n}\n\nexport const getGradientDegreeFromPositions = positions => {\n  const offsetX = positions[1].x-positions[0].x\n  const offsetY = positions[1].y-positions[0].y\n  const a = Math.atan2(offsetY, offsetX)\n  let angle = a * 180 / Math.PI\n  if (angle > 360) {\n      angle -= 360\n  }\n  if (angle < 0) {\n      angle += 360\n  }\n  return toFixed(angle) + '°'\n}\n\nexport const getGradientDegree = fill =>\n  fill.gradientHandlePositions ?\n  getGradientDegreeFromPositions(fill.gradientHandlePositions) :\n  // from plugin\n  getGradientDegreeFromMatrix(fill.gradientTransform)\n\nexport const getSolidColor = fill => ({\n  codeTemplate: '{{color}}',\n  css: getCSSRGBA(fill.color, fill.opacity),\n  alpha: toFixed(polyfillAlpha(fill.color.a)),\n  hex: getCSSHEX(fill.color),\n  hexa: getCSSHEXA(fill.color, fill.opacity),\n  rgba: getCSSRGBA(fill.color, fill.opacity),\n  hsla: getCSSHSLA(fill.color, fill.opacity),\n  type: 'Solid'\n})\n\nexport const getLinearGradient = fill => ({\n  codeTemplate: 'linear-gradient({{degree}}, {{stops}})',\n  css: `linear-gradient(to bottom, ${ stopsToBackground(getStops(fill.gradientStops)) })`,\n  opacity: getOpacity(fill.opacity),\n  type: 'Linear',\n  stops: getStops(fill.gradientStops),\n  angle: getGradientDegree(fill)\n})\n\nexport const getRadialGradient = fill => ({\n  codeTemplate: 'radial-gradient(circle at 50% 50%, {{stops}})',\n  css: `radial-gradient(circle at 50% 50%, ${ stopsToBackground(getStops(fill.gradientStops)) })`,\n  opacity: getOpacity(fill.opacity),\n  type: 'Radial',\n  stops: getStops(fill.gradientStops),\n  angle: getGradientDegree(fill)\n})\n\nexport const getAngularGradient = fill => ({\n  codeTemplate: 'conic-gradient(from {{degree}}, {{stops}})',\n  css: `conic-gradient(from 0.25turn, ${ stopsToBackground(getStops(fill.gradientStops)) })`,\n  opacity: getOpacity(fill.opacity),\n  type: 'Angular',\n  stops: getStops(fill.gradientStops),\n  angle: getGradientDegree(fill)\n})\n\nexport const getDiamondCodeTemplate = () => {\n  const directions = ['bottom right', 'bottom left', 'top left', 'top right']\n  return directions\n    .map(direction => `linear-gradient(to ${direction}, {{stops}}) ${direction} / 50% 50% no-repeat`)\n    .join(', \\n')\n}\n\nexport const getDiamondGradient = fill => ({\n  codeTemplate: getDiamondCodeTemplate(),\n  css: getDiamondCodeTemplate().replace(/{{stops}}/g, stopsToBackground(getStops(fill.gradientStops))),\n  opacity: getOpacity(fill.opacity),\n  type: 'Diamond',\n  stops: getStops(fill.gradientStops),\n  angle: getGradientDegree(fill)\n})\n\nexport const getFillsStyle = fills => {\n  if (!fills) {\n    return { styles:[] }\n  }\n  let type = ''\n  const styles = fills\n    .filter(({visible}) => visible!==false)\n    .map(fill => {\n      type = type==='' ? fill.type : ( type===fill.type ? type : 'MIX_FILL')\n      switch (fill.type) {\n        case 'SOLID':\n          return getSolidColor(fill)\n        case 'GRADIENT_LINEAR':\n          return getLinearGradient(fill)\n        case 'GRADIENT_RADIAL':\n          return getRadialGradient(fill)\n        case 'GRADIENT_ANGULAR':\n          return getAngularGradient(fill)\n        case 'GRADIENT_DIAMOND':\n          return getDiamondGradient(fill)\n        default:\n          return ''\n      }\n    })\n    .filter(fill => !!fill)\n  return { type, styles }\n}\n\nexport const getFillCSSCode = (fillStyle, colorFormat=0) => {\n  const { codeTemplate, angle } = fillStyle\n  const color = formattedColor(colorFormat, fillStyle)\n  let code = codeTemplate\n  if (codeTemplate.indexOf('{{degree}}') > -1) {\n    code = code.replace(/{{degree}}/g, `${angle.replace('°', '')}deg`)\n  }\n  if (codeTemplate.indexOf('{{color}}') > -1) {\n    code = code.replace(/{{color}}/g, color)\n  }\n  if (codeTemplate.indexOf('{{stops}}') > -1) {\n    code = code.replace(/{{stops}}/g, stopsToBackground(fillStyle.stops, colorFormat, ', '))\n  }\n  return code\n}\n\nexport const getShadowEffect = effect => ({\n    x: effect.offset.x,\n    y: effect.offset.y,\n    blur: effect.radius,\n    spread: effect.spread||0,\n    hex: getCSSHEX(effect.color),\n    hexa: getCSSHEXA(effect.color),\n    rgba: getCSSRGBA(effect.color),\n    hsla: getCSSHSLA(effect.color),\n    alpha: toFixed(polyfillAlpha(effect.color.a))\n  })\n\nexport const getEffectsStyle = effects => {\n  if (!effects || effects.length===0) {\n    return { type: 'FAILED_EFFECT', styles:[] }\n  }\n  let type = ''\n  const styles = effects\n    .filter(({visible}) => visible!==false)\n    .map(effect => {\n      type = type==='' ? effect.type : ( type===effect.type ? type : 'MIX_EFFECT')\n      switch (effect.type) {\n        case 'DROP_SHADOW':\n          return {\n            type: effect.type,\n            typeName: 'Drop Shadow',\n            category: 'shadow',\n            ...getShadowEffect(effect),\n            porpertyName: 'shadow',\n            codeTemplate: `{{x}} {{y}} {{radius}} {{spread}} {{color}}`\n          }\n        case 'INNER_SHADOW':\n          return {\n            type: effect.type,\n            typeName: 'Inner Shadow',\n            category: 'shadow',\n            ...getShadowEffect(effect),\n            porpertyName: 'shadow',\n            codeTemplate: `inset {{x}} {{y}} {{radius}} {{spread}} {{color}}`\n          }\n        case 'LAYER_BLUR':\n          return {\n            type: effect.type,\n            typeName: 'Layer Blur',\n            category: 'blur',\n            blur: effect.radius,\n            dashedPorpertyName: 'filter',\n            porpertyName: 'filter',\n            codeTemplate: `blur({{radius}})`\n          }\n        case 'BACKGROUND_BLUR':\n          return {\n            type: effect.type,\n            category: 'blur',\n            typeName: 'Background Blur',\n            blur: effect.radius,\n            dashedPorpertyName: 'backdrop-filter',\n            porpertyName: 'backdropFilter',\n            codeTemplate: `blur({{radius}})`\n          }\n        default:\n          return {}\n      }\n    })\n  return { type, styles }\n}\n\nexport const getEffectCSSCode = (effectStyle, globalSettings, colorFormat=2) => {\n  const { category, codeTemplate, blur, spread, x, y } = effectStyle\n  let code = codeTemplate\n  code = code.replace('{{radius}}', formattedNumber(blur, globalSettings))\n  if (category==='shadow') {\n    code = code.replace('{{x}}', formattedNumber(x, globalSettings))\n    code = code.replace('{{y}}', formattedNumber(y, globalSettings))\n    code = code.replace('{{spread}}', formattedNumber(spread, globalSettings))\n    code = code.replace('{{color}}', formattedColor(colorFormat, effectStyle))\n  }\n  return code\n}\n\nexport const getEffectsCSSObject = (\n  effectItems,\n  globalSettings=DEFAULT_SETTINGS,\n  colorFormat=2,\n  shadowType='box',\n  useDashedName\n) => {\n  let style = {}, shadows = []\n  // eslint-disable-next-line\n  effectItems.map((effectItem) => {\n    const { type, dashedPorpertyName, porpertyName } = effectItem\n    const code = getEffectCSSCode(effectItem, globalSettings, colorFormat)\n    if (type==='DROP_SHADOW' || type==='INNER_SHADOW') {\n      shadows.push(code)\n    } else {\n      style[useDashedName ? dashedPorpertyName : porpertyName] = code\n    }\n  })\n  style[useDashedName ? `${shadowType}-shadow` : `${shadowType}Shadow`] = shadows.join()\n  return style\n}\n\nexport const getLineHeight = textItems => {\n  const { lineHeightPx, lineHeightPercentFontSize, lineHeight, lineHeightUnit } = textItems\n  let finalLineHeight\n  if (typeof lineHeightPx === 'number') {\n    finalLineHeight =\n      lineHeightUnit==='PIXELS' ?\n      lineHeightPx :\n      (lineHeightUnit==='INTRINSIC_%' ? 'normal' : toFixed((lineHeightPercentFontSize || 100)/100))\n  } else {\n    // from plugin\n    finalLineHeight =\n      lineHeightUnit==='PIXELS' ?\n      lineHeight :\n      (lineHeightUnit==='AUTO' ? 'normal' : toFixed((lineHeight || 100)/100))\n  }\n  return finalLineHeight\n}\n\nexport const getTextStyle = (textItems, isInPropPanel) => {\n  const {\n    fontFamily, fontWeight, fontSize, textDecoration,\n    letterSpacing, lineHeightUnit,\n    textAlignHorizontal\n  } = textItems\n  const decorations = { 'UNDERLINE': 'underline', 'STRIKETHROUGH': 'line-through' }\n  const lineHeight = getLineHeight(textItems)\n  const textStyle = {\n    fontFamily,\n    fontWeight,\n    fontSize,\n    lineHeight,\n    lineHeightUnit,\n    letterSpacing,\n    textDecoration: decorations[textDecoration]\n  }\n  isInPropPanel && (textStyle.textAlign = textAlignHorizontal.toLowerCase())\n  return textStyle\n}\n\nexport const getTextIcon = textStyle => {\n  const { fontSize, fontWeight } = textStyle\n  const size = fontSize > 30 ? 'large' : (fontSize < 16 ? 'small' : 'normal')\n  const weight = fontWeight > 500 ? 'bold' : (fontWeight < 400 ? 'thin' : 'regular')\n  return `${size}-${weight}`\n}\n\nexport const getStyle = (type, styles) => {\n  if (!styles) return []\n  switch (type) {\n    case 'FILL':\n      return getFillsStyle(styles)\n    case 'EFFECT':\n      return getEffectsStyle(styles)\n    case 'TEXT':\n      return { type: 'TEXT', styles: getTextStyle(styles) }\n    case 'GRID':\n      return { type: 'GRID', styles }\n    default:\n      return { styles }\n  }\n}\n\nexport const getStyleById = (styles, nodeStyles, type='fill') => {\n  if (!nodeStyles) {\n    return ''\n  }\n  if (styles[type.toUpperCase()] && nodeStyles[type]) {\n    return styles[type.toUpperCase()].find(({id}) => id===nodeStyles[type]) || null\n  } else {\n    return ''\n  }\n}\n\nexport const formattedNumber = (number, { platform, unit, resolution, remBase, numberFormat }, withoutUnit=false) => {\n  const scaledNumber = number*resolutions[platform][resolution].value\n  const finalNumber = unit===4 ? number/remBase : scaledNumber\n  return toFixed(finalNumber, numberFormat) + (withoutUnit ? '' : UNITS[unit])\n}\n\nexport const getCode = (node, fillItems, strokeItems, effectItems, textStyle, globalSettings) => {\n  const colorFormat = globalSettings.colorFormat || 0\n  const { opacity, cornerRadius, rectangleCornerRadii, strokeWeight, strokeDashes } = node\n  let code = ''\n\n  // opacity\n  if (opacity!==undefined) {\n    code += `opacity: ${opacity};\\n`\n  }\n\n  // border-radius\n  if (cornerRadius) {\n    code += `border-radius: ${formattedNumber(cornerRadius, globalSettings)};\\n`\n  } else if (rectangleCornerRadii) {\n    code += `border-radius: ${rectangleCornerRadii.map(r => formattedNumber(r, globalSettings)).join(' ')};\\n`\n  }\n\n  // color or background\n  if (fillItems.length) {\n    if (node.type==='TEXT') {\n      fillItems\n        .filter(({type}) => type==='Solid')\n        // eslint-disable-next-line\n        .map(fill => {\n          code += `color: ${getFillCSSCode(fill, colorFormat)};\\n`\n        })\n    } else {\n      code += 'background: ' + fillItems\n        .map(fill => getFillCSSCode(fill, colorFormat))\n        .join()\n        +';\\n'\n    }\n  }\n\n  // border\n  if (strokeItems.length) {\n    const borderStyle = strokeDashes ? 'dashed' : 'solid'\n    strokeItems\n      .filter(({type}) => type==='Solid')\n      // eslint-disable-next-line\n      .map(stroke => {\n        const strokeColor = getFillCSSCode(stroke, colorFormat)\n        code += `border: ${formattedNumber(strokeWeight, globalSettings)} ${borderStyle} ${strokeColor};\\n`\n      })\n  }\n\n  // shadow or blur\n  if (effectItems.length) {\n    const shadowType = node.type==='TEXT' ? 'text' : 'box'\n    const effects = getEffectsCSSObject(effectItems, globalSettings, colorFormat, shadowType, true)\n    Object.keys(effects)\n      // eslint-disable-next-line\n      .map(propertyName => {\n        code += `${propertyName}: ${effects[propertyName]};\\n`\n      })\n  }\n\n  // font style\n  if (node.type==='TEXT') {\n    const { fontFamily, fontWeight, fontSize, lineHeightUnit, lineHeight, letterSpacing, textAlign, textDecoration } = textStyle\n    code += `font-family: ${fontFamily};\\n`\n    code += `font-weight: ${fontWeight};\\n`\n    code += `font-size: ${formattedNumber(fontSize, globalSettings)};\\n`\n    code += `line-height: ${lineHeightUnit==='PIXELS' ? formattedNumber(lineHeight, globalSettings) : lineHeight};\\n`\n    code += `letter-spacing: ${formattedNumber(letterSpacing, globalSettings)};\\n`\n    code += `text-align: ${textAlign};\\n`\n    if (textDecoration) {\n      code += `text-decoration: ${textDecoration};\\n`\n    }\n  }\n\n  return code\n}\n","import React, { Fragment } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { CopiableInput } from 'components/utilities'\nimport { Fill } from 'components/icons/style'\nimport { formattedColor } from 'utils/style'\n\nconst Color = ({color, colorFormat, t}) =>\n  <Fragment>\n    <CopiableInput\n      label={<Fill size={12}/>}\n      value={formattedColor(colorFormat, color)}\n      style={{width: colorFormat===0 ? 86 : 130}}\n      title={t('color value')}\n    />\n    {\n      colorFormat===0 &&\n      <CopiableInput\n        value={color.alpha}\n        style={{width: 36}}\n        title=\"Alpha\"\n      />\n    }\n  </Fragment>\n\nexport default withTranslation('right.items')(Color)","import React, { useState } from 'react'\nimport cn from 'classnames'\nimport { withTranslation } from 'react-i18next'\nimport { ChevronDown } from 'react-feather'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { CopiableInput, InputGroup } from 'components/utilities'\nimport { Degree, Opacity } from 'components/icons/style'\nimport { getFillCSSCode } from 'utils/style'\nimport Color from './Color'\nimport './fill-item.scss'\n\nconst FillItem = ({flag, style, globalSettings, t}) => {\n  const colorFormat = globalSettings.colorFormat || 0\n  const isSolid = style.type==='Solid'\n  const [isExpanded, setExpanded] = useState(false)\n  return <ul key={flag} className={cn('fill-item', { 'fill-item-expanded': isExpanded })}>\n    <li className=\"fill-summary\" onClick={() => setExpanded(!isExpanded)}>\n      <ChevronDown\n        className=\"summary-chevron\"\n        size={18}\n      />\n      <div className=\"summary-bg\"/>\n      <div className=\"summary-preview\" style={{background: style.css, opacity: style.opacity}}/>\n      <span className=\"summary-type\">{ style.type }</span>\n      <InputGroup isQuiet onWrapperClick={e => e.stopPropagation()}>\n        {\n          isSolid ?\n          <Color color={style} colorFormat={colorFormat}/> :\n          <CopiableInput\n            label={<Degree size={12}/>}\n            inputClass=\"summary-degree\"\n            value={style.angle}\n            title={t('stop angle')}\n            style={{width: 42}}\n          />\n        }\n        {\n          !isSolid &&\n          <CopiableInput\n            label={<Opacity size={12}/>}\n            inputClass=\"summary-opacity\"\n            value={ style.opacity }\n            title={t('stop opacity')}\n            style={{width: 42}}\n          />\n        }\n      </InputGroup>\n    </li>\n    {\n      style.stops &&\n      <li className={cn('fill-stops fill-collapse', { 'detail-stops-expanded': isExpanded })}>\n        {\n          style.stops.map((stop, index) =>\n            <div className=\"stops-item\" key={index}>\n              <div className=\"stops-dot\"/>\n              <InputGroup isQuiet>\n                <CopiableInput inputClass=\"stops-position\" value={ stop.position } title={t('stop position')}/>\n                <Color color={stop} colorFormat={colorFormat}/>\n              </InputGroup>\n            </div>\n          )\n        }\n      </li>\n    }\n    <li className=\"fill-code fill-collapse\">\n      <CopiableInput type=\"textarea\" value={ getFillCSSCode(style, colorFormat) }/>\n    </li>\n  </ul>\n}\n\nexport default withTranslation('right.items')(withGlobalSettings(FillItem))\n","import React, { useState } from 'react'\nimport cn from 'classnames'\nimport { withTranslation } from 'react-i18next'\nimport { ChevronDown } from 'react-feather'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { CopiableInput, InputGroup } from 'components/utilities'\nimport { MixEffect } from 'components/icons/style'\nimport { formattedNumber, getEffectCSSCode } from 'utils/style'\nimport { EFFECTS } from 'utils/const'\nimport Color from './Color'\nimport './effect-item.scss'\n\nconst EffectItem = ({flag, style, nodeType, globalSettings, t}) => {\n  const colorFormat = globalSettings.colorFormat || 0\n  const [isExpanded, setExpanded] = useState(false)\n  const { type, category, typeName, blur, x, y, spread, dashedPorpertyName } = style\n  const code = getEffectCSSCode(style, globalSettings, colorFormat)\n  return <ul key={flag} className={cn('effect-item', { 'effect-item-expanded': isExpanded })}>\n    <li className=\"effect-summary\" onClick={() => setExpanded(!isExpanded)}>\n      <ChevronDown\n        className=\"summary-chevron\"\n        size={18}\n      />\n      { EFFECTS[type].icon }\n      <span className=\"summary-name\">{ typeName }</span>\n      {\n        category!=='shadow' &&\n        <CopiableInput\n          label={<MixEffect size={12}/>}\n          inputClass=\"summary-blur\"\n          value={ formattedNumber(blur, globalSettings) }\n          title={t('blur')}\n          isQuiet\n          onWrapperClick={e => e.stopPropagation()}\n        />\n      }\n    </li>\n    {\n      category==='shadow' &&\n      <li className=\"effect-extra\">\n        <InputGroup isQuiet>\n          <CopiableInput label=\"X\" value={ formattedNumber(x, globalSettings) } title=\"X\"/>\n          <CopiableInput label=\"Y\" value={ formattedNumber(y, globalSettings) } title=\"Y\"/>\n        </InputGroup>\n        <InputGroup isQuiet>\n          <CopiableInput label=\"Blur\" value={ formattedNumber(blur, globalSettings) } title=\"Blur\"/>\n          <CopiableInput label=\"Spread\" value={ formattedNumber(spread, globalSettings) } title=\"Spread\"/>\n        </InputGroup>\n        <InputGroup isQuiet>\n          <Color color={style} colorFormat={colorFormat}/>\n        </InputGroup>\n      </li>\n    }\n    <li className=\"effect-code\">\n      <CopiableInput\n        type=\"textarea\"\n        value={ `${ dashedPorpertyName || (nodeType==='TEXT' ? 'text-shadow' : 'box-shadow') }: ${code};` }/>\n    </li>\n  </ul>\n}\n\nexport default withTranslation('right.items')(withGlobalSettings(EffectItem))\n","import React from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { CopiableInput } from 'components/utilities'\nimport { formattedNumber } from 'utils/style'\nimport './text-items.scss'\n\nconst TextItems = ({flag, items, globalSettings, t, i18n}) => {\n  const labelWidth = i18n.language==='en' ? 80 : 60\n  return <ul key={flag} className=\"text-items\">\n    <li className=\"text-item\">\n      <CopiableInput isQuiet labelWidth={labelWidth} label={t('font family')} value={ items.fontFamily }/>\n    </li>\n    <li className=\"text-item\">\n      <CopiableInput isQuiet labelWidth={labelWidth} label={t('font weight')} value={ items.fontWeight }/>\n    </li>\n    <li className=\"text-item\">\n      <CopiableInput isQuiet labelWidth={labelWidth} label={t('font size')} value={ formattedNumber(items.fontSize, globalSettings) }/>\n    </li>\n    <li className=\"text-item\">\n      <CopiableInput isQuiet labelWidth={labelWidth} label={t('letter spacing')} value={ formattedNumber(items.letterSpacing, globalSettings) }/>\n    </li>\n    <li className=\"text-item\">\n      <CopiableInput\n        isQuiet\n        labelWidth={labelWidth}\n        label={t('line height')}\n        value={\n          items.lineHeightUnit==='PIXELS' ?\n          formattedNumber(items.lineHeight, globalSettings) :\n          items.lineHeight\n        }\n      />\n    </li>\n    {\n      items.textDecoration &&\n      <li className=\"text-item\">\n        <CopiableInput isQuiet labelWidth={labelWidth} label={t('text decoration')} value={ items.textDecoration }/>\n      </li>\n    }\n    {\n      items.textAlign &&\n      <li className=\"text-item\">\n        <CopiableInput isQuiet labelWidth={labelWidth} label={t('text align')} value={ items.textAlign }/>\n      </li>\n    }\n  </ul>\n}\n\nexport default withTranslation('right.items')(withGlobalSettings(TextItems))\n","import React, { useState } from 'react'\nimport { Download, ExternalLink, Loader } from 'react-feather'\nimport cn from 'classnames'\nimport { saveAs } from 'file-saver'\nimport { getBlobData } from 'api'\nimport './export-item.scss'\n\nexport default ({exportSetting, useLocalImages}) => {\n  const [ isDownloading, setDownloading ] = useState(false)\n  const { image } = exportSetting\n  const name = exportSetting.fileName\n  const imageUrl = useLocalImages ? `${process.env.PUBLIC_URL}/data/exports/${name}` : image\n  const { protocol } = window.location\n  const isHttpServer = /^http/.test(protocol)\n\n  const handleSave = (e, name) => {\n    if (isHttpServer) {\n      e.preventDefault()\n      setDownloading(true)\n      const imgUrl = useLocalImages ? imageUrl : imageUrl\n      getBlobData(imgUrl)\n        .then(blob => {\n          saveAs(blob, name)\n          setDownloading(false)\n        })\n    }\n  }\n\n  return <a\n      href={imageUrl}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className={cn('export-item', {'export-item-downloading': isDownloading})}\n      onClick={e => handleSave(e, name)}\n    >\n      <div style={{backgroundImage: `url(${imageUrl})`}}/>\n      <span>{ name }</span>\n      {\n        isDownloading ?\n        <Loader size={14} className=\"motion-loading\"/> :\n        (isHttpServer ? <Download size={14}/> : <ExternalLink size={14}/>)\n      }\n    </a>\n}\n","import React from 'react'\nimport cn from 'classnames'\nimport { getEffectsCSSObject } from 'utils/style'\nimport './preview.scss'\n\nexport default ({type, styles, name}) =>\n  <div className={cn('preview', `preview-${type.toLowerCase()}`)}>\n    <div className=\"preview-bg\"/>\n    {\n      type==='FILL' ?\n      styles.map((style, index) =>\n        <div key={index} style={{background: style.css, opacity: style.opacity}}/>\n      ) :\n      (\n        type==='TEXT' ?\n        <div className=\"text-item\" style={styles}>{ name }</div> :\n        <div className=\"effect-item\" style={getEffectsCSSObject(styles)}/>\n      )\n    }\n  </div>\n","import React from 'react'\nimport cn from 'classnames'\nimport { getFillsStyle, getEffectsStyle, getTextIcon } from 'utils/style'\nimport { EFFECTS, TEXTS } from 'utils/const'\nimport FillPreview from './Preview'\nimport './style-item.scss'\n\nexport default ({styles, styleName, styleType, isHoverable=true, ...props}) => {\n  switch (styleType) {\n    case 'FILL':\n      const { styles: fillItems } = getFillsStyle(styles)\n      const isSingleFill = fillItems.length===1\n      const isMixFill = fillItems.length>1\n      return <a className={cn('style-item style-item-fill', {'style-item-hoverable': isHoverable})} {...props}>\n        <div\n          className=\"item-preview\"\n          style={{background: isSingleFill && fillItems[0].css}}\n        >\n          {\n            isMixFill && <FillPreview type=\"FILL\" styles={fillItems}/>\n          }\n        </div>\n        { styleName }\n      </a>\n    case 'EFFECT':\n      const { type } = getEffectsStyle(styles)\n      return <a className={cn('style-item style-item-effect', {'style-item-hoverable': isHoverable})} {...props}>\n        <div className=\"item-preview\">\n          { EFFECTS[type].icon }\n        </div>\n        { styleName }\n      </a>\n    case 'TEXT':\n      return <a className={cn('style-item style-item-text', {'style-item-hoverable': isHoverable})} {...props}>\n        <div className=\"item-preview\">\n          { TEXTS[getTextIcon(styles)] }\n        </div>\n        { styleName }\n      </a>\n    default:\n      return ''\n  }\n}\n","import React, { useState, useEffect } from 'react'\nimport SettingsContext from 'contexts/SettingsContext'\nimport { COLOR_FORMATS } from 'utils/const'\nimport './color-format-select.scss'\n\nconst ColorFormatSelect = ({ globalSettings, onColorFormatChange }) => {\n  const [ colorFormat, setColorFormat ] = useState(globalSettings.colorFormat || 0)\n  const changeColorFormat = e => {\n    const value = e.target.value - 0\n    setColorFormat(value)\n    onColorFormatChange && onColorFormatChange('colorFormat', value)\n  }\n  useEffect(() => {\n    setColorFormat(globalSettings.colorFormat)\n  }, [globalSettings.colorFormat])\n  return <select className=\"input color-format-select\" value={colorFormat} onChange={changeColorFormat}>\n    {\n      COLOR_FORMATS.map((format, index) => <option key={index} value={index}>{ format }</option>)\n    }\n  </select>\n}\n\nexport default () =>\n  <SettingsContext.Consumer>\n    {({globalSettings, changeGlobalSettings}) => (\n      <ColorFormatSelect\n        globalSettings={globalSettings}\n        onColorFormatChange={changeGlobalSettings}\n      />\n    )}\n  </SettingsContext.Consumer>","import React, { Fragment } from 'react'\nimport cn from 'classnames'\nimport { withTranslation } from 'react-i18next'\nimport { Droplet, Image, DownloadCloud } from 'react-feather'\nimport JSZip from 'jszip'\nimport { saveAs } from 'file-saver'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { getBufferData } from 'api'\nimport { asyncForEach, isAllImageFill } from 'utils/helper'\nimport { STYLE_TYPES } from 'utils/const'\nimport { StyleItem, ExportItem } from './items'\nimport './right-styles.scss'\n\nclass RightSider extends React.Component {\n  state = {\n    tabIndex: 0,\n    percentage: 0,\n    progressText: ''\n  }\n  changeTab = index => {\n    const { tabIndex } = this.state\n    if (tabIndex!==index) {\n      this.setState({tabIndex: index})\n    }\n  }\n  setProgress = (percentage, progressText) => {\n    this.setState({\n      percentage,\n      progressText\n    })\n  }\n  handleDownloadAll = async () => {\n    const { percentage } = this.state\n    if (percentage!==0) return\n    const { useLocalImages, exportSettings, documentName, t } = this.props\n    const zip = new JSZip()\n    const length = exportSettings.length\n    const folderName = `${documentName.replace(/\\//g, '-')}-exports`\n    const exportsFolder = zip.folder(folderName)\n    this.setProgress(1, t('downloading images'))\n\n    await asyncForEach(exportSettings, async (exportSetting, index) => {\n      const imgName = exportSetting.rename\n      const imgUrl = useLocalImages ? `${process.env.PUBLIC_URL}/data/exports/${imgName}` : exportSetting.image\n      const imgData = await getBufferData(imgUrl)\n      this.setProgress((index+1)*Math.floor(90/length), t('dealing with', {name: imgName}))\n      exportsFolder.file(imgName, imgData, {base64: true})\n    })\n\n    this.setProgress(96, t('compressing files'))\n    zip.generateAsync({type: 'blob'})\n      .then(content => {\n        saveAs(content, `${folderName}.zip`)\n        this.setProgress(100, t('downloaded'))\n        const timer = setTimeout(() => {\n          this.setProgress(0, '')\n          clearTimeout(timer)\n        }, 800)\n      })\n  }\n  componentDidMount() {\n    // const { styles } = this.props\n  }\n  render () {\n    const { useLocalImages, styles, exportSettings, propsPanelState, onShowDetail, t } = this.props\n    const { tabIndex, percentage, progressText } = this.state\n    const { protocol } = window.location\n    return (\n      <div className=\"right-styles\">\n        <div\n          className={cn('styles-mask', `mask-${propsPanelState}`)}\n        />\n        <ul className=\"styles-tabs\">\n          <li className={cn({'selected': tabIndex===0})} onClick={() => this.changeTab(0)}><Droplet size={14}/>{t('tab style')}</li>\n          <li className={cn({'selected': tabIndex===1})} onClick={() => this.changeTab(1)}><Image size={14}/>{t('tab slice')}</li>\n        </ul>\n        <ul className={cn('styles-list', {'hide': tabIndex!==0})}>\n          {\n            Object.keys(styles).map(key =>\n              key!=='GRID' &&\n              <Fragment key={key}>\n                <li className=\"list-title\">{ t(STYLE_TYPES[key]) }</li>\n                {\n                  styles[key] &&\n                  styles[key]\n                    .filter(style => key==='FILL' ? !isAllImageFill(style.items) : true)\n                    .map((style, index) =>\n                      <li key={index}>\n                        <StyleItem\n                          styles={style.items}\n                          styleName={style.name}\n                          styleType={style.styleType}\n                          onClick={() => onShowDetail(style)}\n                        />\n                      </li>\n                    )\n                }\n              </Fragment>\n            )\n          }\n        </ul>\n        <ul className={cn('styles-exports', {'hide': tabIndex!==1})}>\n            {\n              /^http/.test(protocol) && !!exportSettings.length &&\n              <li\n                className={cn('exports-download-all', {'is-downloading': percentage})}\n                onClick={this.handleDownloadAll}\n              >\n                <span>{ progressText || t('download all') }</span> { !percentage && <DownloadCloud size={14}/> }\n                <div className=\"download-all-progress\" style={{width: `${percentage}%`}}/>\n              </li>\n            }\n            {\n              !!exportSettings.length ?\n              exportSettings\n                .map((exportSetting, index) =>\n                  <li key={index}>\n                    <ExportItem\n                      exportSetting={exportSetting}\n                      useLocalImages={useLocalImages}\n                      index={index}\n                    />\n                  </li>\n                ) :\n              <li className=\"exports-empty\">{t('no exports')}</li>\n            }\n          </ul>\n      </div>\n    )\n  }\n}\n\nexport default withTranslation('right')(withGlobalSettings(RightSider))\n","import React from 'react'\nimport { ArrowRight } from 'react-feather'\nimport { getStyleById } from 'utils/style'\nimport StyleItem from './items/StyleItem'\nimport './style-reference.scss'\n\nexport default ({styleItems, styles, nodeStyles, type, onShowStyleDetail}) => {\n  const styleReference = getStyleById(styles, nodeStyles, type)\n  const styleType = type==='stoke' ? 'FILL' : type.toUpperCase()\n  return  styleReference &&\n    <span\n      className=\"title-reference\"\n      onClick={() => onShowStyleDetail && onShowStyleDetail(styleType, nodeStyles[type])}\n    >\n      <StyleItem\n        styles={styleItems}\n        styleName={styleReference.name}\n        styleType={type.toUpperCase()}\n        isHoverable={false}\n      />\n      <ArrowRight size={14}/>\n    </span>\n}\n","import React, { useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport Tooltip from 'rc-tooltip'\nimport { copySomething } from 'utils/helper'\n\nconst PieceWithCopy = ({text, className, onClick, t, props}) => {\n  const [ visible, setVisible ] = useState(false)\n  const onCopied = () => {\n    const timer = setTimeout(() => {\n      setVisible(false)\n      clearTimeout(timer)\n    }, 1000)\n  }\n  const afterCopy = () => {\n    setVisible(true)\n    onCopied()\n  }\n  return <Tooltip\n    visible={visible}\n    trigger={['click']}\n    overlay={t('copied tip')}\n    placement=\"top\"\n    transitionName=\"rc-tooltip-slide\"\n    {...props}\n  >\n    <span\n      className={className}\n      onClick={onClick}\n      onDoubleClick={copySomething(text, afterCopy)}\n    >\n      { text }\n    </span>\n  </Tooltip>\n}\n\nexport default withTranslation('utilities')(PieceWithCopy)\n","import React, { Fragment } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport cn from 'classnames'\nimport { HelpCircle, Copy } from 'react-feather'\nimport Tooltip from 'rc-tooltip'\nimport TextItems from './items/TextItems'\nimport PieceWithCopy from './PieceWithCopy'\nimport StyleReference from './StyleReference'\nimport { WithCopy } from 'components/utilities'\nimport { getTextStyle } from 'utils/style'\nimport { getTextTable } from 'utils/text'\nimport './font-panel.scss'\n\nclass FontPanel extends React.Component {\n  constructor(props) {\n    super(props)\n    const { onGetStyle } = props\n    const textStyle = getTextStyle(props.node.style, true)\n    // from plugin\n    const textTable = props.node.textTable || getTextTable(props.node)\n    this.state = {\n      textTable,\n      selected: null,\n      style: textStyle\n    }\n    onGetStyle && onGetStyle(textStyle)\n  }\n  switchPiece = (piece, index) => {\n    const textStyle = getTextStyle(piece, true)\n    this.setState({\n      selected: index,\n      style: textStyle\n    })\n    const { onSwitch, onGetStyle } = this.props\n    onGetStyle && onGetStyle(textStyle)\n    onSwitch && onSwitch(piece.fills, index)\n  }\n  onDeselectPiece = e => {\n    const isContentBox = Array.prototype.indexOf.call(e.target.classList, 'content-box')>-1\n    if (isContentBox) {\n      const { node } = this.props\n      this.switchPiece({fills: node.fills, ...node.style}, null)\n    }\n  }\n  render() {\n    const { node, styles, propsSider, onShowStyleDetail, t } = this.props\n    const { textTable, selected, style } = this.state\n    return (\n      <div className=\"props-section props-text\">\n        <h5 className=\"section-title\">\n          <span className=\"title-name\">{t('text')}</span>\n          {\n            selected===null &&\n            <StyleReference\n              styleItems={style}\n              styles={styles}\n              nodeStyles={node.styles}\n              type=\"text\"\n              onShowStyleDetail={onShowStyleDetail}\n            />\n          }\n        </h5>\n        <div className=\"text-content\">\n          <WithCopy text={node.characters} className=\"content-copy\">\n            <Copy size={14}/>\n          </WithCopy>\n          <div className=\"content-box\" onClick={this.onDeselectPiece}>\n            {\n              textTable.length===0 ?\n              <span>{ node.characters }</span> :\n              textTable.map((piece, index) =>\n                <PieceWithCopy\n                  key={index}\n                  text={piece.text}\n                  className={cn('box-piece', {'selected': selected===index})}\n                  onClick={() => this.switchPiece(piece, index)}\n                />\n              )\n            }\n          </div>\n          {\n            !!textTable.length && propsSider &&\n            <Tooltip\n              trigger={['click']}\n              overlay={\n                () =>\n                  <Fragment>\n                    <img src={require('./multi-styles.gif')} alt=\"multi-styles tutorial\"/>\n                    <p>{t('multiple text styles tip')}</p>\n                  </Fragment>\n              }\n              overlayStyle={{width: 'calc(100% - 24px)'}}\n              getTooltipContainer={() => propsSider}\n              mouseLeaveDelay={0}\n              align={{\n                points: ['bl', 'tl'],\n                offset: [0, 3]\n              }}\n            >\n              <p className=\"section-helper\">\n                <span>{t('multiple text styles')}</span> <HelpCircle size={12}/>\n              </p>\n            </Tooltip>\n          }\n        </div>\n        <div className=\"section-items\">\n          <TextItems flag={selected} items={style}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withTranslation('right')(FontPanel)\n","export const getTextTable = ({ characters, characterStyleOverrides, styleOverrideTable, style, fills }) => {\n  const overrides = characterStyleOverrides\n  const styles = styleOverrideTable\n  const textTable = []\n  let lastOverrideKey\n  if (overrides.length===0) return textTable\n  // eslint-disable-next-line\n  Array.prototype.map.call(characters, (character, index) => {\n    const currentOverride = overrides[index]\n    const styleKey = currentOverride!==undefined ? currentOverride : 0\n    const key = styleKey - 0\n    if (index===0) {\n      textTable.push({\n        text: character,\n        fills,\n        ...style,\n        ...styles[key]\n      })\n    } else {\n      if (key===lastOverrideKey) {\n        textTable[textTable.length-1].text += character\n      } else {\n        textTable.push({\n          text: character,\n          fills,\n          ...style,\n          ...styles[key]\n        })\n      }\n    }\n    lastOverrideKey = styleKey\n  })\n  return textTable\n}\n","import React, { createRef } from 'react'\nimport cn from 'classnames'\nimport Prism from 'prismjs'\nimport { withTranslation } from 'react-i18next'\nimport { Copy } from 'react-feather'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { CopiableInput, InputGroup, WithCopy } from 'components/utilities'\nimport { getFillsStyle, getEffectsStyle, formattedNumber, getCode } from 'utils/style'\nimport { toFixed } from 'utils/mark'\nimport { ColorFormatSelect, FillItem, EffectItem, ExportItem } from './items'\nimport StyleReference from './StyleReference'\nimport FontPanel from './FontPanel'\nimport './right-props.scss'\n\nclass RightProps extends React.Component {\n  propsSider = createRef()\n  state = {\n    flag: 0,\n    fills: this.props.elementData.node.fills,\n    exportSettings: [],\n    isPieceSelected: false,\n    textStyle: {}\n  }\n  getExportSettings = () => {\n    const { elementData, exportSettings, currentIndex, currentExportIds } = this.props\n    this.setState({\n      exportSettings: exportSettings ?\n        exportSettings\n          .map((exportSetting, index) => ({...exportSetting, index}))\n          .filter(({id}) =>\n            currentIndex===0 ? currentExportIds.indexOf(id)>-1 : id===elementData.node.id\n          ) :\n        []\n    })\n  }\n  handleStyleGot = textStyle => {\n    this.setState({textStyle})\n  }\n  handleTextChange = (fills, pieceIndex) => {\n    const { flag } = this.state\n    this.setState({\n      flag: 1-flag,\n      fills,\n      isPieceSelected: pieceIndex!==null\n    })\n  }\n  handleStyleDetailShow = (type, selectedId) => {\n    const { styles, onShowDetail } = this.props\n    const styleDetail = styles[type].find(({id}) => selectedId===id)\n    onShowDetail(styleDetail)\n  }\n  componentDidUpdate(prevProps) {\n    const { elementData, detailVisible, onCloseDetail } = this.props\n    // switch selected element\n    if (elementData.index!==prevProps.elementData.index) {\n      const { flag } = this.state\n      this.setState({\n        flag: 1-flag, \n        fills: elementData.node.fills\n      })\n      detailVisible && onCloseDetail()\n      this.getExportSettings()\n    }\n  }\n  componentDidMount () {\n    this.getExportSettings()\n  }\n  render () {\n    const {\n      elementData,\n      currentComponentName,\n      styles,\n      useLocalImages,\n      globalSettings,\n      onPropsPanelTransitionEnd,\n      propsPanelState,\n      t\n    } = this.props\n    const { node } = elementData\n    const { strokes, effects, styles: nodeStyles } = node\n    const { fills, exportSettings, flag, isPieceSelected, textStyle } = this.state\n    const { styles: fillItems } = getFillsStyle(fills)\n    const { styles: strokeItems } = getFillsStyle(strokes)\n    const { styles: effectItems } = getEffectsStyle(effects)\n    const code = getCode(node, fillItems, strokeItems, effectItems, textStyle, globalSettings)\n    const styledCode = Prism.highlight(code, Prism.languages.css, 'css')\n    return (\n      <div\n        className={cn('right-props', `right-props-${propsPanelState}`)}\n        key={elementData.index}\n        ref={this.propsSider}\n        onTransitionEnd={onPropsPanelTransitionEnd}\n      >\n        <div className=\"props-section\">\n          <h5 className=\"section-title section-name\" title={node.name}>\n            <span>{ node.name }</span>\n            <ColorFormatSelect/>\n          </h5>\n        </div>\n        {/* position and size */}\n        <div className=\"props-section props-basic\">\n          <h5 className=\"section-title\">{t('position and spacing')}</h5>\n          <div className=\"section-items\">\n            <CopiableInput isQuiet label=\"X\" value={ formattedNumber(elementData.left, globalSettings) }/>\n            <CopiableInput isQuiet label=\"Y\" value={ formattedNumber(elementData.top, globalSettings) }/>\n            <CopiableInput isQuiet label=\"W\" value={ formattedNumber(elementData.width, globalSettings) }/>\n            <CopiableInput isQuiet label=\"H\" value={ formattedNumber(elementData.height, globalSettings) }/>\n            {\n              node.opacity!==undefined &&\n              <CopiableInput isQuiet label={t('opacity')} value={ toFixed(node.opacity) }/>\n            }\n            {\n              node.cornerRadius &&\n              <CopiableInput isQuiet label={t('radius')} value={ formattedNumber(node.cornerRadius, globalSettings) }/>\n            }\n          </div>\n        </div>\n        {\n          !!elementData.maskedBound &&\n          <div className=\"props-section\">\n            <h5 className=\"section-title section-name\">{t('masked element')}</h5>\n            <p className=\"section-helper\">{t('masked element tip')}</p>\n          </div>\n        }\n        {\n          node.isMask &&\n          <div className=\"props-section\">\n            <h5 className=\"section-title section-name\">{t('mask')}</h5>\n          </div>\n        }\n        {\n          node.type==='GROUP' &&\n          <div className=\"props-section\">\n            <h5 className=\"section-title section-name\">{t('group type')}</h5>\n          </div>\n        }\n        {\n          node.type==='SLICE' &&\n          <div className=\"props-section\">\n            <h5 className=\"section-title section-name\">{t('slice type')}</h5>\n          </div>\n        }\n        {\n          currentComponentName &&\n          <div className=\"props-section\">\n            <h5 className=\"section-title section-name\">{t('component')}: { currentComponentName }</h5>\n          </div>\n        }\n        {/* font */}\n        {\n          node.type==='TEXT' &&\n          <FontPanel\n            node={node}\n            styles={styles}\n            propsSider={this.propsSider.current}\n            onSwitch={this.handleTextChange}\n            onGetStyle={this.handleStyleGot}\n            onShowStyleDetail={this.handleStyleDetailShow}\n          />\n        }\n        {/* fills */}\n        {\n          !!(fillItems && fillItems.length) &&\n          <div className=\"props-section props-fills\">\n            <h5 className=\"section-title\">\n              <span className=\"title-name\">{t('fill')}</span>\n              {\n                !isPieceSelected &&\n                <StyleReference\n                  styleItems={fills}\n                  styles={styles}\n                  nodeStyles={nodeStyles}\n                  type=\"fill\"\n                  onShowStyleDetail={this.handleStyleDetailShow}\n                />\n              }\n            </h5>\n            <ul className=\"section-items\">\n              {\n                fillItems.map((fillStyle, index) =>\n                  <li className=\"item-block\" key={index}>\n                    <FillItem flag={flag} style={fillStyle}/>\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        }\n        {/* strokes */}\n        {\n          !!(strokeItems && strokeItems.length) &&\n          <div className=\"props-section props-strokes\">\n            <h5 className=\"section-title\">\n              <span className=\"title-name\">{t('stroke')}</span>\n              <StyleReference\n                styleItems={strokes}\n                styles={styles}\n                nodeStyles={nodeStyles}\n                type=\"stroke\"\n                onShowStyleDetail={this.handleStyleDetailShow}\n              />\n            </h5>\n            <ul className=\"section-items\">\n              {\n                strokeItems.map((strokeStyle, index) =>\n                  <li className=\"item-block\" key={index}>\n                    <FillItem flag={flag} style={strokeStyle}/>\n                  </li>\n                )\n              }\n            </ul>\n            <InputGroup>\n              <CopiableInput label={t('stroke weight')} value={ formattedNumber(node.strokeWeight, globalSettings) }/>\n              {\n                node.strokeDashes &&\n                <CopiableInput\n                  label={t('stroke dash')}\n                  value={ node.strokeDashes.map(dash => formattedNumber(dash, globalSettings, true)).join() }\n                />\n              }\n              <CopiableInput label={t('stroke position')} value={ node.strokeAlign.toLowerCase() }/>\n            </InputGroup>\n          </div>\n        }\n        {/* effects */}\n        {\n          !!(effects && effects.length) &&\n          <div className=\"props-section props-effects\">\n            <h5 className=\"section-title\">\n              <span className=\"title-name\">{t('effect')}</span>\n              <StyleReference\n                styleItems={effects}\n                styles={styles}\n                nodeStyles={nodeStyles}\n                type=\"effect\"\n                onShowStyleDetail={this.handleStyleDetailShow}\n              />\n            </h5>\n            <ul className=\"section-items\">\n              {\n                effectItems.map((effectStyle, index) =>\n                  <li className=\"item-block\" key={index}>\n                    <EffectItem flag={flag} style={effectStyle} nodeType={node.type}/>\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        }\n        {\n          code &&\n          <div className=\"props-section props-code\">\n            <h5 className=\"section-title\">{t('code')}</h5>\n            <div className=\"section-items\">\n              <WithCopy text={code} className=\"code-copy\">\n                <Copy size={14}/>\n              </WithCopy>\n              <pre className=\"code-box\">\n                <code dangerouslySetInnerHTML={{__html: styledCode}}></code>\n              </pre>\n            </div>\n          </div>\n        }\n        {/* export settings */}\n        {\n          !!(exportSettings && exportSettings.length) &&\n          <div className=\"props-section props-export\">\n            <h5 className=\"section-title\">\n              <span className=\"title-name\">{t('exported images')}</span>\n            </h5>\n            <ul className=\"section-items\">\n              {\n                exportSettings.map((exportSetting, index) =>\n                  <li key={index}>\n                    <ExportItem\n                      exportSetting={exportSetting}\n                      useLocalImages={useLocalImages}\n                      index={exportSetting.index}\n                    />\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default withTranslation('right')(withGlobalSettings(RightProps))\n","import React from 'react'\nimport cn from 'classnames'\nimport { withTranslation } from 'react-i18next'\nimport { ChevronLeft } from 'react-feather'\nimport { ColorFormatSelect, FillItem, EffectItem, TextItems, Preview } from './items'\nimport { CopiableInput } from 'components/utilities'\nimport { getStyle } from 'utils/style'\nimport './style-detail.scss'\n\nconst itemsMap = {\n  'FILL': FillItem,\n  'EFFECT': EffectItem\n}\n\nclass StyleDetail extends React.Component {\n  render () {\n    const { visible, style, onBack, t } = this.props\n    const { styleType } = style\n    const isText = styleType==='TEXT'\n    const { styles: styleItems } = getStyle(styleType, style.items)\n    return (\n      <div className={cn('style-detail', {'style-detail-visible': visible})}>\n        <div className=\"detail-title\">\n          <ChevronLeft onClick={onBack} size={36}/>\n          <span className=\"title-name\">{style.name}</span>\n          <ColorFormatSelect/>\n        </div>\n        <div className=\"detail-main\">\n          {\n            style.items &&\n            <div className=\"detail-preview\">\n              <Preview type={styleType} styles={styleItems} name={style.name}/>\n            </div>\n          }\n          <div className=\"detail-name\">\n            <h5>{t('style name')}</h5>\n            <CopiableInput value={ style.name }/>\n            {\n              style.description &&\n              <CopiableInput type=\"textarea\" value={ style.description }/>\n            }\n          </div>\n          <div className=\"detail-properties\">\n            <h5>{t('style properties')}</h5>\n            {\n              style.items &&\n              (\n                isText ?\n                <TextItems flag={visible} items={styleItems}/> :\n                <ul className=\"properties-items\">\n                  {\n                    styleItems.map((styleItem, index) => {\n                      const StyleItem = itemsMap[styleType]\n                      return <li className=\"properties-item\" key={index}>\n                        <StyleItem flag={visible} style={styleItem}/>\n                      </li>\n                    })\n                  }\n                </ul>\n              )\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withTranslation('right')(StyleDetail)\n","import React from 'react'\nimport cn from 'classnames'\nimport SettingsContext, { withGlobalSettings } from 'contexts/SettingsContext'\nimport { CollapseButton } from 'components/utilities'\nimport RightStyles from './RightStyles'\nimport RightProps from './RightProps'\nimport StyleDetail from './StyleDetail'\nimport './index.scss'\n\nclass Right extends React.Component {\n  state = {\n    detailVisible: false,\n    styleDetail: {},\n    // the state of properties panel: leaved, entering, entered, leaving\n    propsPanelState: 'leaved'\n  }\n  toggleDetail = () => {\n    const { detailVisible } = this.state\n    this.setState({\n      detailVisible: !detailVisible\n    })\n  }\n  openStyleDetail = styleDetail => {\n    this.setState({ styleDetail })\n    this.toggleDetail()\n  }\n  handlePropsPanelAnimationEnd = () => {\n    const { onPropsPanelLeave } = this.props\n    const { propsPanelState: currentState } = this.state\n    if (currentState==='entering' || currentState==='leaving') {\n      this.setState({\n        propsPanelState: currentState==='entering' ? 'entered' : 'leaved'\n      }, () => {\n        // tell canvas when props panel leaved\n        this.state.propsPanelState==='leaved' && onPropsPanelLeave()\n      })\n    }\n  }\n  componentDidUpdate (prevProps) {\n    const { hasElementSelected } = this.props\n    // an element selected\n    if (!prevProps.hasElementSelected && hasElementSelected) {\n      this.setState({propsPanelState: 'starting'})\n      setTimeout(() => {\n        this.setState({propsPanelState: 'entering'})\n      }, 10)\n    }\n    // an element deselected\n    if (prevProps.hasElementSelected && !hasElementSelected) {\n      this.setState({propsPanelState: 'leaving'})\n      this.state.detailVisible && this.toggleDetail()\n    }\n  }\n  render () {\n    const {\n      useLocalImages,\n      styles,\n      elementData,\n      exportSettings,\n      documentName,\n      currentComponentName,\n      currentExportIds,\n      currentIndex,\n      onSiderTransitionEnd,\n      globalSettings\n    } = this.props\n    const { rightCollapse } = globalSettings\n    const { propsPanelState, detailVisible, styleDetail } = this.state\n    return (\n      <div\n        className={cn('main-right', { collapsed: rightCollapse })}\n        onTransitionEnd={onSiderTransitionEnd}\n      >\n        <SettingsContext.Consumer>\n          {({globalSettings, changeGlobalSettings}) => (\n            <CollapseButton\n              placement=\"right\"\n              globalSettings={globalSettings}\n              changeGlobalSettings={changeGlobalSettings}\n            />\n          )}\n        </SettingsContext.Consumer>\n        <div className={cn('right-pannels', {'right-pannels-out': detailVisible})}>\n          <RightStyles\n            useLocalImages={useLocalImages}\n            styles={styles}\n            exportSettings={exportSettings}\n            documentName={documentName}\n            propsPanelState={propsPanelState}\n            onShowDetail={this.openStyleDetail}\n          />\n          {\n            elementData &&\n            <RightProps\n              useLocalImages={useLocalImages}\n              elementData={elementData}\n              currentComponentName={currentComponentName}\n              styles={styles}\n              exportSettings={exportSettings}\n              currentExportIds={currentExportIds}\n              currentIndex={currentIndex}\n              propsPanelState={propsPanelState}\n              onPropsPanelTransitionEnd={this.handlePropsPanelAnimationEnd}\n              detailVisible={detailVisible}\n              onCloseDetail={this.toggleDetail}\n              onShowDetail={this.openStyleDetail}\n            />\n          }\n          <StyleDetail\n            visible={detailVisible}\n            onBack={this.toggleDetail}\n            style={styleDetail}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withGlobalSettings(Right)\n","import React, { Fragment } from 'react'\nimport { toPercentage, toMarkPercentage } from 'utils/mark'\nimport { formattedNumber } from 'utils/style'\nimport './distance.scss'\n\nexport default ({\n  distanceData,\n  globalSettings,\n  percentageMode,\n  pageRect,\n  closedCommonParent\n}) =>\n  distanceData && distanceData.length ?\n  <Fragment>\n    {\n      distanceData.map((distance, index) => {\n        const isVertical = !!distance.h\n        const size = isVertical ? {height: toPercentage(distance.h)} : {width: toPercentage(distance.w)}\n        const whichSide = isVertical ? 'height' : 'width'\n        return (\n          <div\n            key={index}\n            className={`mark-distance mark-distance-${isVertical ? 'v' : 'h'}`}\n            style={{left: toPercentage(distance.x), top: toPercentage(distance.y), ...size }}\n          >\n            <div className=\"mark-distance-sizing\">\n              {\n                !!percentageMode ? (\n                  percentageMode==='auto' ?\n                  toMarkPercentage(distance.distance/closedCommonParent[whichSide]) :\n                  toMarkPercentage(distance.distance/pageRect[whichSide])\n                ) :\n                formattedNumber(distance.distance, globalSettings)\n              }\n            </div>\n          </div>\n        )\n      })\n    }\n  </Fragment> :\n  null\n","import React from 'react'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { toMarkPercentage } from 'utils/mark'\nimport { formattedNumber } from 'utils/style'\n\nconst Dimension = ({whichSide, actualSize, percentageMode, closedCommonParent, pageRect, globalSettings}) =>\n  <div className={`layer-sizing layer-${whichSide}`}>\n    {\n      !!percentageMode && closedCommonParent ? (\n        percentageMode==='auto' ?\n        toMarkPercentage(actualSize/closedCommonParent[whichSide]) :\n        toMarkPercentage(actualSize/pageRect[whichSide])\n      ) :\n      formattedNumber(actualSize, globalSettings)\n    }\n  </div>\n\nexport default withGlobalSettings(Dimension)\n","import React, { Fragment } from 'react'\nimport { toPercentage } from 'utils/mark'\nimport './ruler.scss'\n\nexport default ({rulerData}) =>\n  (rulerData && rulerData.length) ?\n  <Fragment>\n    {\n      rulerData.map((ruler, index) => {\n        const isVertical = !!ruler.h\n        const size = isVertical ? {height: toPercentage(ruler.h)} : {width: toPercentage(ruler.w)}\n        return (\n          <div\n            key={index}\n            className={`mark-ruler mark-ruler-${isVertical ? 'v' : 'h'}`}\n            style={{top: toPercentage(ruler.y), left: toPercentage(ruler.x), ...size}}\n          />\n        )\n      })\n    }\n  </Fragment> :\n  null\n","import React from 'react'\nimport cn from 'classnames'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { toPercentage, generateRects, calculateMarkData, findParentComponent } from 'utils/mark'\nimport { getImage } from 'utils/helper'\nimport canvasWrapper from './canvasWrapper'\nimport Distance from './Distance'\nimport Dimension from './Dimension'\nimport Ruler from './Ruler'\nimport './canvas.scss'\n\nclass Canvas extends React.Component {\n  state = {\n    isLoading: false,\n    rects: [],\n    pageRect: {},\n    componentIndex: '',\n    componentId: '',\n    currentComponentName: '',\n    selectedRect: null,\n    selectedIndex: null,\n    hoveredRect: null,\n    hoveredIndex: null,\n    markData: {},\n    frameStyle: {},\n    isChanging: false,\n    closedCommonParent: null,\n    closedCommonParentPath: ''\n  }\n  resetMark = () => {\n    this.setState({\n      componentIndex: '',\n      componentId: '',\n      currentComponentName: '',\n      selectedRect: null,\n      selectedIndex: null,\n      hoveredRect: null,\n      hoveredIndex: null,\n      markData: {},\n      closedCommonParent: null,\n      closedCommonParentPath: ''\n    })\n  }\n  generateMark = () => {\n    const { canvasData, onGetExports, globalSettings } = this.props\n    const { disableInspectExportInner } = globalSettings\n    const { absoluteBoundingBox: pageRect } = canvasData\n    const { rects, exportIds } = generateRects([canvasData], pageRect, disableInspectExportInner)\n    onGetExports && onGetExports(exportIds)\n    this.setState({ rects, pageRect })\n  }\n  getBound = () => {\n    const { frameBound } =this.props\n    const { pageRect } = this.state\n    const { top, bottom, left, right } = frameBound\n    const frameStyle = {\n      top: toPercentage(top/(pageRect.height+top+bottom)),\n      left: toPercentage(left/(pageRect.width+left+right)),\n      height: toPercentage(pageRect.height/(pageRect.height+top+bottom)),\n      width: toPercentage(pageRect.width/(pageRect.width+left+right))\n    }\n    this.setState({ frameStyle })\n  }\n  getLayerBoundStyle = rect => {\n    const { pageRect } = this.state\n    const { top, left, width, height } = rect.maskedBound || rect\n    return {\n      top: toPercentage(top/pageRect.height),\n      left: toPercentage(left/pageRect.width),\n      width: toPercentage(width/pageRect.width),\n      height: toPercentage(height/pageRect.height)\n    }\n  }\n  getMaskedLayerHoveredBoundStyle = type => {\n    const { pageRect, hoveredRect, selectedRect } = this.state\n    const { top, left, width, height } = type==='selected' ? selectedRect : hoveredRect\n    return {\n      top: toPercentage(top/pageRect.height),\n      left: toPercentage(left/pageRect.width),\n      width: toPercentage(width/pageRect.width),\n      height: toPercentage(height/pageRect.height)\n    }\n  }\n  getActiveAndMaskedType = index => {\n    const { selectedIndex, selectedRect, hoveredIndex, hoveredRect } = this.state\n    if (index===selectedIndex && selectedRect.maskedBound) {\n      return 'selected'\n    } else if (index===hoveredIndex && hoveredRect.maskedBound) {\n      return 'hovered'\n    }\n    return false\n  }\n  getClosedCommonParent = (hoveredRect, selectedRect) => {\n    const { rects } = this.state\n    if (!hoveredRect || !selectedRect) {\n      return { closedCommonParentPath: [], closedCommonParent: null }\n    }\n    if (hoveredRect.index===selectedRect.index) {\n      let closedCommonParent\n      if (hoveredRect.index===0) {\n        closedCommonParent = hoveredRect\n      } else {\n        const indexedPaths = [...hoveredRect.paths]\n        indexedPaths.pop()\n        closedCommonParent = rects.filter(({paths}) => paths.join('-')===indexedPaths.join('-'))[0]\n      }\n      return { closedCommonParentPath: closedCommonParent.paths, closedCommonParent }\n    }\n    const closedCommonParentPath = []\n    const hoveredPaths = hoveredRect.paths\n    const selectedPaths = selectedRect.paths\n    const sortedPaths = [hoveredPaths, selectedPaths].sort((a, b) => a.length - b.length)\n    const [shorterOne, longerOne] = sortedPaths\n    let i = 0\n    while (i < shorterOne.length) {\n      if (shorterOne[i]===longerOne[i]) {\n        closedCommonParentPath.push(shorterOne[i])\n      } else {\n        break\n      }\n      i++\n    }\n    const closedCommonParent = rects.filter(({paths}) => paths.join('-')===closedCommonParentPath.join('-'))[0]\n    return { closedCommonParentPath, closedCommonParent }\n  }\n  isPercentageHighlight = (rect, index) => {\n    const { percentageMode } = this.props\n    const { closedCommonParentPath, selectedRect, hoveredRect } = this.state\n    if (percentageMode==='auto') {\n      return closedCommonParentPath===rect.paths.join('-')\n    }\n    if (percentageMode==='root') {\n      return index===0 && selectedRect && hoveredRect\n    }\n    return false\n  }\n  selectMask = rect => {\n    if (!rect.maskedBound) {\n      return\n    }\n    const { rects } = this.state\n    const { maskIndex } = rect.maskedBound\n    this.onSelect(rects[maskIndex], maskIndex)\n  }\n  onSelect = (rect, index) => {\n    const { spacePressed, onSelect, includeComponents, components } =this.props\n    if (spacePressed) return\n    const { rects } = this.state\n    const { index: componentIndex, componentId } = findParentComponent(index, rect, rects)\n    const currentComponent = includeComponents ?\n      components.find(({id}) => id===componentId) :\n      (\n        // from plugin\n        Array.isArray(components) ?\n        components.find(({id}) => id===componentId) :\n        components[componentId]\n      )\n    const currentComponentName = rect.componentIds ? (currentComponent ? currentComponent.name : rects[componentIndex].node.name) : ''\n\n    onSelect && onSelect(rect, currentComponentName, index)\n\n    const { hoveredIndex, hoveredRect } = this.state\n    if (hoveredIndex===index) {\n      const { closedCommonParentPath, closedCommonParent } = this.getClosedCommonParent(hoveredRect, rect)\n      this.setState({ closedCommonParentPath: closedCommonParentPath.join('-'), closedCommonParent })\n    }\n\n    this.setState({\n      selectedRect: rect,\n      selectedIndex: index,\n      componentIndex,\n      componentId,\n      currentComponentName\n    })\n  }\n  onHover = (rect, index) => {\n    const { pageRect, selectedRect } = this.state\n    const markData = calculateMarkData(selectedRect, rect, pageRect)\n    const { closedCommonParentPath, closedCommonParent } = this.getClosedCommonParent(rect, selectedRect)\n    this.setState({\n      hoveredRect: rect,\n      hoveredIndex: index,\n      markData,\n      closedCommonParentPath: closedCommonParentPath.join('-'),\n      closedCommonParent\n    })\n  }\n  onLeave = () => {\n    this.setState({\n      hoveredRect: null,\n      hoveredIndex: null,\n      markData: {},\n      closedCommonParentPath: '',\n      closedCommonParent: null\n    })\n  }\n  handleImgLoaded = () => {\n    this.setState({ isChanging: false })\n  }\n  componentDidMount () {\n    this.generateMark()\n  }\n  componentDidUpdate(prevProps) {\n    const { elementData } = this.props\n    // reset mark when no element selected\n    if (!elementData && (elementData !== prevProps.elementData)) {\n      this.resetMark()\n    }\n    const { id, useLocalImages, images } = this.props\n    const imgUrl = getImage(id, useLocalImages, images)\n    const prevImgUrl = getImage(prevProps.id, useLocalImages, images)\n    if (this.props.id !== prevProps.id && imgUrl!==prevImgUrl) {\n      this.setState({ isChanging: true })\n      this.resetMark()\n      this.generateMark()\n    }\n    if (this.props.frameBound.top !== prevProps.frameBound.top) {\n      this.getBound()\n    }\n  }\n  render () {\n    const { id, size, useLocalImages, images, percentageMode, globalSettings } = this.props\n    const {\n      rects,\n      frameStyle,\n      selectedIndex,\n      hoveredIndex,\n      componentIndex,\n      currentComponentName,\n      markData,\n      isChanging,\n      pageRect,\n      closedCommonParent\n    } = this.state\n    const { showAllExports } = globalSettings\n    const exportsVisible = selectedIndex===0 && showAllExports\n    return (\n      <div className=\"container-mark\" onMouseLeave={this.onLeave}>\n        <div className={cn('mark-layers', {'mark-layers-exports-visible': exportsVisible})} style={frameStyle}>\n          {\n            selectedIndex!==null && (selectedIndex!==hoveredIndex) &&\n            <Ruler rulerData={markData.rulerData}/>\n          }\n          {\n            rects.map((rect, index) => {\n              const { clazz, isComponent } = rect\n              const activeAndMaskedType = this.getActiveAndMaskedType(index)\n              const style = !!activeAndMaskedType ?\n                this.getMaskedLayerHoveredBoundStyle(activeAndMaskedType) :\n                this.getLayerBoundStyle(rect)\n              return (\n                <div\n                  key={index}\n                  className={cn(\n                    \"layer\",\n                    ...clazz,\n                    {\n                      'selected': selectedIndex===index,\n                      'hovered': hoveredIndex===index,\n                      'current-component': componentIndex===index,\n                      'percentage-highlight': this.isPercentageHighlight(rect, index)\n                    }\n                  )}\n                  style={style}\n                  onClick={() => this.onSelect(rect, index)}\n                  onDoubleClick={() => this.selectMask(rect)}\n                  onMouseOver={() => this.onHover(rect, index)}\n                >\n                  {\n                    isComponent && componentIndex===index &&\n                    <div className=\"layer-component\">{ currentComponentName }</div>\n                  }\n                  {\n                    ['width', 'height'].map(whichSide =>\n                      <Dimension\n                        key={whichSide}\n                        whichSide={whichSide}\n                        actualSize={whichSide==='width' ? rect.actualWidth : rect.actualHeight}\n                        percentageMode={percentageMode}\n                        closedCommonParent={closedCommonParent}\n                        pageRect={pageRect}\n                      />\n                    )\n                  }\n                </div>\n              )\n            })\n          }\n          {\n            selectedIndex!==hoveredIndex &&\n            <Distance\n              distanceData={markData.distanceData}\n              globalSettings={globalSettings}\n              percentageMode={percentageMode}\n              pageRect={pageRect}\n              closedCommonParent={closedCommonParent}\n            />\n          }\n        </div>\n        <img\n          src={getImage(id, useLocalImages, images)}\n          alt=\"frame\"\n          style={{\n            width: size.width,\n            height: size.height,\n            opacity: isChanging ? 0 : 1\n          }}\n          onLoad={this.handleImgLoaded}\n        />\n      </div>\n    )\n  }\n}\n\nexport default canvasWrapper(withGlobalSettings(Canvas))\n","import React, { createRef }  from 'react'\nimport Tooltip from 'rc-tooltip'\nimport { withTranslation } from 'react-i18next'\nimport { Plus, Minus, HelpCircle } from 'react-feather'\nimport { withGlobalSettings } from 'contexts/SettingsContext'\nimport { isCmdOrCtrl } from 'utils/helper'\nimport { px2number, toFixed, getFrameBound } from 'utils/mark'\nimport { throttle } from 'utils/helper'\nimport './canvas-wrapper.scss'\n\nexport default function (Canvas) {\n  class CanvasWrapper extends React.Component {\n    constructor (props) {\n      super(props)\n      this.container = createRef()\n      this.canvas = createRef()\n      this.state = {\n        containerWidth: 0,\n        containerHeight: 0,\n        frameBound: {},\n        initialWidth: 0,\n        initialHeight: 0,\n        posX: 0,\n        posY: 0,\n        minScale: 1,\n        scale: 1,\n        isZoomimg: false,\n        isDragging: false,\n        spacePressed: false,\n        originX: 0,\n        originY: 0,\n        // if show percentage in marks\n        // '': not show percentage\n        // 'auto': based on common parent\n        // 'root': based on root frame\n        percentageMode: ''\n      }\n    }\n    initializeCanvas = (needResetSizeAndPosition) => {\n      const { frameBound, width, height } = this.getOffsetSize()\n      const { scale } = this.state\n      const { clientWidth, clientHeight } = this.container.current\n      let minScale = 1\n      let initialWidth, initialHeight\n      if (width + 120 > clientWidth || height + 120 > clientHeight) {\n        if ((width + 120)/(height + 120) > clientWidth/clientHeight) {\n          minScale = toFixed((clientWidth - 120)/width)\n        } else {\n          minScale = toFixed((clientHeight - 120)/height)\n        }\n        initialWidth = toFixed(clientWidth/minScale)\n        initialHeight = toFixed(clientHeight/minScale)\n      } else {\n        minScale = 1\n        initialWidth = clientWidth\n        initialHeight = clientHeight\n      }\n      this.setState({\n        scale: needResetSizeAndPosition ? minScale : Math.max(scale, minScale),\n        minScale,\n        // remember container size\n        containerWidth: clientWidth,\n        containerHeight: clientHeight,\n        frameBound,\n        initialWidth,\n        initialHeight\n      })\n      if (needResetSizeAndPosition) {\n        this.setState({\n          posX: 0,\n          posY: 0\n        })\n      }\n    }\n    getOffsetSize = () => {\n      const { canvasData } = this.props\n      const { strokes, strokeWeight, strokeAlign, effects, absoluteBoundingBox: pageRect } = canvasData\n      const frameBound = getFrameBound(strokes, strokeWeight, strokeAlign, effects)\n      const { width, height } = pageRect\n      return {\n        frameBound,\n        width: frameBound.left + frameBound.right + width,\n        height: frameBound.top + frameBound.bottom + height\n      }\n    }\n    limitedPosition = (pos, scale, whichOne) => {\n      const { containerWidth, containerHeight, initialWidth, initialHeight } = this.state\n      // min: canvas width(height) minus container width(height); max: 0\n      return whichOne === 'width' ?\n        Math.min(0, Math.max(containerWidth-initialWidth*scale, pos)) :\n        Math.min(0, Math.max(containerHeight-initialHeight*scale, pos))\n    }\n    getSize = (scale, initialSize) => initialSize ? scale*initialSize : initialSize\n    onStep = (increment, isDirect = false) => {\n      const { containerWidth, containerHeight, initialWidth, initialHeight, scale, minScale } = this.state\n      // every step changes 25%\n      const currentScale = Math.max(minScale, Math.min(4, isDirect ? increment : (scale + increment*0.25)))\n      this.setState({\n        scale: currentScale,\n        posX: (containerWidth - initialWidth*currentScale)/2,\n        posY: (containerHeight - initialHeight*currentScale)/2\n      })\n    }\n    calculateStaringOrigins = e => {\n      // remember the starting origin\n      const canvas = this.canvas.current\n      const { isZoomimg } = this.state\n      if(!isZoomimg) {\n        const { left, top, width, height } = canvas.getBoundingClientRect()\n        this.setState({\n          originX: (e.clientX - left)/width,\n          originY:  (e.clientY - top)/height\n        })\n      }\n    }\n    handleKeyboard = () => {\n      const { onDeselect } = this.props\n      window.onkeydown = e => {\n        // show percentage distances and spaces\n        if (isCmdOrCtrl(e)) {\n          this.setState({percentageMode: 'root'})\n        } else if (e.altKey) {\n          this.setState({percentageMode: 'auto'})\n        }\n        // when (Cmd/Ctrl \\) pressed, siders collapsed\n        if ((e.keyCode === 220) && isCmdOrCtrl(e)) {\n          e.preventDefault()\n          const { globalSettings, changeGlobalSettings } = this.props\n          const { leftCollapse, rightCollapse } = globalSettings\n          if (leftCollapse || rightCollapse) {\n            changeGlobalSettings('leftCollapse', false)\n            changeGlobalSettings('rightCollapse', false)\n          } else {\n            changeGlobalSettings('leftCollapse', true)\n            changeGlobalSettings('rightCollapse', true)\n          }\n        }\n        // space key pressed\n        if(e.keyCode === 32) {\n          e.preventDefault()\n          this.setState({ spacePressed: true })\n        }\n        // when (Cmd/Ctrl +) or (Cmd/Ctrl -) pressed\n        if ((e.keyCode === 187 || e.keyCode === 189) && isCmdOrCtrl(e)) {\n          e.preventDefault()\n          this.onStep(e.keyCode === 187 ? 1 : -1)\n        }\n        // when ESC pressed\n        if(e.keyCode === 27) {\n          onDeselect && onDeselect()\n        }\n      }\n      window.onkeyup = e => {\n        // exit percentage mode\n        if (isCmdOrCtrl(e)) {\n          this.setState({percentageMode: 'root'})\n        } else if (e.altKey) {\n          this.setState({percentageMode: 'auto'})\n        } else {\n          this.setState({percentageMode: ''})\n        }\n        // space key up\n        if(e.keyCode === 32) {\n          e.preventDefault()\n          this.setState({ spacePressed: false })\n        }\n      }\n    }\n    onContainerClick = e => {\n      const { onDeselect } = this.props\n      const { isDragging } = this.state\n      if (!isDragging && e.target.className==='canvas-container') {\n        onDeselect && onDeselect()\n      }\n    }\n    handleDrag = () => {\n      const canvas = this.canvas.current\n      canvas.addEventListener('mousedown', e => {\n        const { spacePressed } = this.state\n        if (e.which===2 || spacePressed) {\n          this.setState({ isDragging: true })\n        }\n      })\n      canvas.addEventListener('mousemove', e => {\n        const { isDragging, spacePressed } = this.state\n        // support middle click\n        if (isDragging && (e.which===2 || spacePressed)) {\n          const { posX, posY, scale } = this.state\n          this.setState({\n            posX: this.limitedPosition(posX + e.movementX, scale, 'width'),\n            posY: this.limitedPosition(posY + e.movementY, scale)\n          })\n        }\n        this.setState({\n          isZoomimg: false\n        })\n      })\n      canvas.addEventListener('mouseup', e => {\n        const { spacePressed } = this.state\n        this.onContainerClick(e)\n        if (e.which===2 || spacePressed) {\n          this.setState({ isDragging: false })\n        }\n      })\n    }\n    handleWheel = () => {\n      const canvas = this.canvas.current\n      canvas.addEventListener('wheel', (e) => {\n        e.preventDefault()\n        const { initialWidth, initialHeight, posX, posY, scale, minScale } = this.state\n        const { leftCollapse } = this.props.globalSettings\n        if (e.ctrlKey) {\n          // startZoomimg\n          this.calculateStaringOrigins(e)\n          const { originX, originY } = this.state\n          const currentScale = Math.min(4, Math.max(minScale, scale - e.deltaY * 0.01))\n          const currentWidth = currentScale*initialWidth\n          const currentHeight = currentScale*initialHeight\n          const currentPosX = (e.clientX - (leftCollapse ? 0 : 240)) - currentWidth*originX\n          const currentPosY = (e.clientY - 40) - currentHeight*originY\n          // zoom\n          this.setState({\n            isZoomimg: true,\n            scale: currentScale,\n            posX: this.limitedPosition(currentPosX, currentScale, 'width'),\n            posY: this.limitedPosition(currentPosY, currentScale)\n          })\n        } else {\n          // scroll\n          const { scale } = this.state\n          this.setState({\n            isZoomimg: false,\n            posX: this.limitedPosition(posX - e.deltaX, scale, 'width'),\n            posY: this.limitedPosition(posY - e.deltaY, scale)\n          })\n        }\n      });\n    }\n    handleResize = () => {\n      const container = this.container.current\n      const canvas = this.canvas.current\n      const width = container.clientWidth\n      const height = container.clientHeight\n      const { containerWidth, containerHeight } = this.state\n      if (width === containerWidth && height === containerHeight) return\n      this.initializeCanvas()\n      this.setState({\n        posX: Math.min(0, Math.max(px2number(canvas.style.left), width - canvas.clientWidth)),\n        posY: Math.min(0, Math.max(px2number(canvas.style.top), height - canvas.clientHeight))\n      })\n    }\n    componentDidUpdate (prevProps) {\n      // resize when sider collapse changed\n      const { siderCollapseFlag } = this.props\n      const { siderCollapseFlag: prevSiderCollapseFlag } = prevProps\n      if (prevSiderCollapseFlag!==siderCollapseFlag) {\n        this.handleResize()\n      }\n      if (prevProps.id !== this.props.id) {\n        this.initializeCanvas(true)\n      }\n    }\n    componentDidMount () {\n      this.initializeCanvas(true)\n      this.handleWheel()\n      this.handleKeyboard()\n      this.handleDrag()\n      window.onresize = throttle(this.handleResize, 200)\n    }\n    componentWillUnmount () {\n      window.onresize = null\n      window.onkeydown = null\n      window.onkeyup = null\n    }\n    render () {\n      const { t } = this.props\n      const { width, height } = this.getOffsetSize()\n      const { percentageMode, initialWidth, initialHeight, frameBound, posX, posY, scale, spacePressed, isDragging } = this.state\n      const style = {\n        top: posY,\n        left: posX,\n        width: this.getSize(scale, initialWidth),\n        height: this.getSize(scale, initialHeight)\n      }\n      return (\n        <div ref={this.container} className=\"main-canvas\">\n          <div className=\"canvas-steper\">\n            <span className=\"steper-button steper-minus\" onClick={() => this.onStep(-1)}><Minus size={14}/></span>\n            <Tooltip\n              trigger={['click']}\n              overlayClassName=\"canvas-tooltip\"\n              overlayStyle={{width: 96}}\n              placement=\"top\"\n              transitionName=\"rc-tooltip-slide\"\n              overlay={\n                <ul className=\"tooltip-quick-zoom\">\n                  <li onClick={() => this.onStep(4, true)}>400%</li>\n                  <li onClick={() => this.onStep(3, true)}>300%</li>\n                  <li onClick={() => this.onStep(2, true)}>200%</li>\n                  <li onClick={() => this.onStep(1, true)}>100%</li>\n                </ul>\n              }\n            >\n              <span className=\"steper-percentage\">{ (scale*100).toFixed() }%</span>\n            </Tooltip>\n            <span className=\"steper-button steper-plus\" onClick={() => this.onStep(1)}><Plus size={14}/></span>\n          </div>\n          <Tooltip\n            trigger={['click']}\n            overlayClassName=\"canvas-tooltip\"\n            overlayStyle={{width: 266}}\n            placement=\"top\"\n            transitionName=\"rc-tooltip-slide\"\n            overlay={\n              <ul className=\"tooltip-help\">\n                <li>\n                  <h3><span role=\"img\" aria-label=\"Tips\">💡</span> {t('tips')}</h3>\n                </li>\n                <li>1. {t('zoom')}</li>\n                <li>2. {t('drag')}</li>\n                <li>3. {t('zoom step')}</li>\n                <li>4. {t('percentage')}</li>\n                <li>5. {t('deselect')}</li>\n                <li>6. {t('hide siders')}</li>\n                <li>7. {t('exports')}</li>\n              </ul>\n            }\n          >\n            <span className=\"canvas-help\">\n              <HelpCircle size={16}/>\n            </span>\n          </Tooltip>\n          <div\n            ref={this.canvas}\n            className=\"canvas-container\"\n            style={{...style, cursor: (spacePressed || isDragging) ? 'grab' : 'default' }}\n          >\n            <Canvas\n              {...this.props}\n              percentageMode={percentageMode}\n              spacePressed={spacePressed}\n              frameBound={frameBound}\n              size={{width: width*scale, height: height*scale}}\n            />\n          </div>\n        </div>\n      )\n    }\n  }\n  return withTranslation('canvas')(withGlobalSettings(CanvasWrapper))\n}\n","import React from 'react'\nimport SettingsContext from 'contexts/SettingsContext'\nimport LeftPanel from './left'\nimport RightPanels from './right'\nimport Canvas from './canvas'\nimport './main.scss'\n\nexport default class Main extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      canvasData: null,\n      id: '',\n      // selected layer index\n      currentIndex: '',\n      elementData: null,\n      hasElementSelected: false,\n      currentComponentName: '',\n      siderCollapseFlag: false,\n      siderCollapsePlacement: '',\n      exportIds: []\n    }\n  }\n  handleSelectFrameOrComponent = (currentId, pageId) => {\n    const { data, components, onNamesChange } = this.props\n    const { id } = this.state\n    if (id===currentId) return\n    const currentPage = pageId ? data.document.children.find(({id}) => id===pageId) : {}\n    const canvasData = (pageId ? currentPage.children : components).find(({id}) => id===currentId)\n    this.setState({\n      id: currentId,\n      canvasData\n    })\n    onNamesChange && onNamesChange(canvasData.name, currentPage.name)\n    this.handleDeselect()\n  }\n  handleSelectElement = (elementData, currentComponentName, index) => {\n    this.setState({\n      elementData,\n      currentIndex: index,\n      currentComponentName,\n      hasElementSelected: true\n    })\n  }\n  handleGetExports = (exportIds) => {\n    this.setState({ exportIds })\n  }\n  handleDeselect = () => {\n    this.setState({\n      hasElementSelected: false\n    })\n  }\n  handlePropsPanelLeave = () => {\n    this.setState({\n      elementData: null,\n      currentIndex: ''\n    })\n  }\n  handleSiderTransitionEnd = () => {\n    const { siderCollapseFlag } = this.state\n    this.setState({\n      siderCollapseFlag: !siderCollapseFlag\n    })\n  }\n  render () {\n    const {\n      documentName, components, styles, exportSettings, images,\n      pagedFrames, isMock, includeComponents, isLocal\n    } = this.props\n    const {\n      id,\n      canvasData,\n      exportIds,\n      elementData,\n      currentIndex,\n      currentComponentName,\n      hasElementSelected,\n      siderCollapseFlag\n    } = this.state\n    return (\n      <div className=\"app-main\">\n        <LeftPanel\n          useLocalImages={isMock || isLocal}\n          images={images}\n          pagedFrames={pagedFrames}\n          components={components}\n          includeComponents={includeComponents}\n          onFrameOrComponentChange={this.handleSelectFrameOrComponent}\n          onSiderTransitionEnd={this.handleSiderTransitionEnd}\n        />\n        {\n          canvasData &&\n          <SettingsContext.Consumer>\n            {({globalSettings, changeGlobalSettings}) => (\n              <Canvas\n                useLocalImages={isMock || isLocal}\n                images={images}\n                canvasData={canvasData}\n                includeComponents={includeComponents}\n                components={components}\n                id={id}\n                elementData={elementData}\n                onSelect={this.handleSelectElement}\n                onDeselect={this.handleDeselect}\n                onGetExports={this.handleGetExports}\n                siderCollapseFlag={siderCollapseFlag}\n                globalSettings={globalSettings}\n                changeGlobalSettings={changeGlobalSettings}\n              />\n            )}\n          </SettingsContext.Consumer>\n        }\n        <RightPanels\n          useLocalImages={isMock || isLocal}\n          styles={styles}\n          exportSettings={exportSettings}\n          documentName={documentName}\n          elementData={elementData}\n          currentComponentName={currentComponentName}\n          currentExportIds={exportIds}\n          currentIndex={currentIndex}\n          hasElementSelected={hasElementSelected}\n          onPropsPanelLeave={this.handlePropsPanelLeave}\n          onSiderTransitionEnd={this.handleSiderTransitionEnd}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Tooltip from 'rc-tooltip'\n\nexport default ({ children, ...props }) =>\n  <Tooltip\n    trigger={['click']}\n    overlayStyle={{width: 320}}\n    align={{\n      offset: [0, -10]\n    }}\n    placement=\"bottomRight\"\n    transitionName=\"rc-tooltip-slide\"\n    {...props}\n  >\n    { children }\n  </Tooltip>\n","import React, { Component } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport InputNumber from \"rc-input-number\"\nimport { PLATFORMS, WEB_MULTIPLE, IOS_DENSITY, ANDROID_DENSITY, UNITS, NUMBER_FORMATS } from 'utils/const'\nimport './settings.scss'\n\nconst resolutions = [ WEB_MULTIPLE, IOS_DENSITY, ANDROID_DENSITY ]\n\nclass Settings extends Component {\n  constructor (props) {\n    super(props)\n    const { globalSettings } = props\n    this.state ={ ...globalSettings }\n  }\n  handleChange = e => {\n    const { name, value } = e.target\n    const { onSettingsChange } = this.props\n    this.setState({\n      [name]: value - 0\n    }, () => {\n      onSettingsChange(name, value - 0)\n      this.changeResolution(name)\n      this.changeUnit(name, value)\n      this.changeResolutionWhenRemOrEm(name, value)\n    })\n  }\n  handleRemBaseChange = value => {\n    const { onSettingsChange } = this.props\n    onSettingsChange('remBase', value)\n    this.setState({\n      remBase: value\n    })\n  }\n  changeResolution = name => {\n    const { onSettingsChange } = this.props\n    if (name==='platform') {\n      onSettingsChange('resolution', 0)\n      this.setState({resolution: 0})\n    }\n  }\n  changeResolutionWhenRemOrEm = (name, value) => {\n    // rem selected\n    if (name==='unit' && (value==='3' || value==='4')) {\n      this.changeResolution('platform')\n    }\n  }\n  changeUnit = (name, value) => {\n    const { onSettingsChange } = this.props\n    if (name==='platform') {\n      if (value==='0') {\n        this.setState({unit: 2})\n        onSettingsChange('unit', 2)\n      } else {\n        this.setState({unit: value - 1})\n        onSettingsChange('unit', value - 1)\n      }\n    }\n  }\n  render () {\n    const { t } = this.props\n    const { platform, resolution, unit, remBase, numberFormat } = this.state\n    const baseVisible = platform===0 && (unit===3 || unit===4)\n    const unitMaps = [[2, 3, 4, 5], [0, 2], [1, 2]] // [Web, iOS, Android]\n    return (\n      <div className=\"form\">\n        <div className=\"form-item settings-title\">{t('settings mark')}</div>\n        <div className=\"form-item form-item-horizontal\">\n          <label htmlFor=\"platform\" className=\"item-label\">{t('settings platform')}</label>\n          <select\n            name=\"platform\"\n            className=\"input\"\n            placeholder={t('platform placeholder')}\n            value={platform}\n            onChange={this.handleChange}\n          >\n            {\n              PLATFORMS\n                .map((platform, index) => <option key={index} value={index}>{ platform }</option>)\n            }\n          </select>\n        </div>\n        <div className=\"form-item form-item-horizontal\">\n          <label htmlFor=\"resolution\" className=\"item-label\">\n            { platform===0 ? t('multiple') : t('pixel density') }\n          </label>\n          <select\n            name=\"resolution\"\n            className=\"input\"\n            disabled={baseVisible}\n            value={resolution}\n            onChange={this.handleChange}\n          >\n            {\n              resolutions[platform]\n                .map((resolution, index) =>\n                  <option key={index} value={index}>{ resolution.label }</option>\n                )\n            }\n          </select>\n        </div>\n        <div className=\"form-item form-item-horizontal\">\n          <label htmlFor=\"unit\" className=\"item-label\">{t('unit')}</label>\n          <select\n            name=\"unit\"\n            className=\"input\"\n            placeholder={t('unit placeholder')}\n            value={unit}\n            onChange={this.handleChange}\n          >\n            {\n              unitMaps[platform]\n              .map(index =>\n                <option key={index} value={index}>{ UNITS[index] }{ UNITS[index]==='rpx' && t('miniprogram') }</option>\n              )\n            }\n          </select>\n        </div>\n        {\n          baseVisible &&\n          <div className=\"form-item form-item-horizontal\">\n            <label htmlFor=\"rem-base\" className=\"item-label\">{t('(r)em base')}</label>\n            <InputNumber\n              name=\"remBase\"\n              placeholder={t('(r)em base placeholder')}\n              min={1}\n              max={100}\n              precision={0}\n              value={remBase}\n              onChange={this.handleRemBaseChange}\n            />\n          </div>\n        }\n        <div className=\"form-item form-item-horizontal\">\n          <label htmlFor=\"rem-base\" className=\"item-label\">{t('number format')}</label>\n          <select\n            name=\"numberFormat\"\n            className=\"input\"\n            value={numberFormat}\n            onChange={this.handleChange}\n          >\n            {\n              NUMBER_FORMATS.map((numberFormat, index) =>\n                <option key={index} value={index}>\n                  {t(numberFormat)}\n                </option>\n              )\n            }\n          </select>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withTranslation('header')(Settings)\n","import React, { Component } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport Mark from './Mark'\nimport './settings.scss'\n\nclass Settings extends Component {\n  constructor (props) {\n    super(props)\n    const { globalSettings } = props\n    this.state ={ ...globalSettings }\n  }\n  changeLanguage = e => {\n    const { onSettingsChange, i18n } = this.props\n    const { value } = e.target\n    this.setState({language: value})\n    i18n.changeLanguage(value)\n    onSettingsChange('language', value)\n  }\n  changeOtherSetting = e => {\n    const { onSettingsChange } = this.props\n    const { checked, name } = e.target\n    this.setState({[name]: checked})\n    onSettingsChange(name, checked)\n  }\n  render () {\n    const { t, globalSettings, onSettingsChange } = this.props\n    const { language, showAllExports, disableInspectExportInner } = this.state\n    return <div className=\"settings\">\n      <h3><span role=\"img\" aria-label=\"Congratulations\">⚙️</span> {t('settings title')}</h3>\n      <Mark\n        globalSettings={globalSettings}\n        onSettingsChange={onSettingsChange}\n      />\n      <div className=\"form\">\n        <div className=\"form-item settings-title\">{t('language')}</div>\n        <div className=\"form-item\">\n          <select name=\"language\" className=\"input\" value={language} onChange={this.changeLanguage}>\n            <option value=\"en\">English</option>\n            <option value=\"zh\">中文</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"form\">\n        <div className=\"form-item settings-title\">Other</div>\n        <div className=\"form-item form-item-checkbox\">\n          <label>\n            <input\n              name=\"showAllExports\"\n              type=\"checkbox\"\n              checked={showAllExports}\n              onChange={this.changeOtherSetting}\n            />\n            {t('show all exports when selecting outer')}\n          </label>\n        </div>\n        <div className=\"form-item form-item-checkbox\">\n          <label>\n            <input\n              name=\"disableInspectExportInner\"\n              type=\"checkbox\"\n              checked={disableInspectExportInner}\n              onChange={this.changeOtherSetting}\n            />\n            {t('exports inner selecting not allowed')}\n          </label>\n          <div className=\"help-block\">{t('exports inner selecting not allowed tip')}</div>\n        </div>\n      </div>\n    </div>\n  }\n}\n\nexport default withTranslation('header')(Settings)\n","import React, { Fragment } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport marked from 'marked'\nimport raw from \"raw.macro\"\n\nconst Changelog = ({t}) => {\n  const changelog = raw(\"./changelog.md\")\n  return (\n    <Fragment>\n      <h2><span role=\"img\" aria-label=\"New release\">🎊</span> {t('changelog')}</h2>\n      <div className=\"changelog-content\" dangerouslySetInnerHTML={{__html: marked(changelog)}}/>\n    </Fragment>\n  )\n}\n\nexport default withTranslation('header')(Changelog)\n","import React, { Fragment } from 'react'\nimport cn from 'classnames'\nimport { withTranslation } from 'react-i18next'\nimport { FileText, Settings, HelpCircle, MessageCircle, ChevronLeft } from 'react-feather'\nimport SettingsContext from 'contexts/SettingsContext'\nimport Overlay from './Overlay'\nimport MarkSettings from './Settings'\nimport Changelog from './Changelog'\nimport './header.scss'\n\nclass Header extends React.Component {\n  hasNames = () => {\n    const { pageName, frameName } = this.props\n    return !!(pageName && frameName)\n  }\n  render () {\n    const { isLocal, documentName, pageName, frameName, isComponent, onBack, t } = this.props\n    const logoHidden = this.hasNames()\n    return (\n      <header className=\"app-header\">\n        <span className={cn('header-back', {'hide': !logoHidden || isLocal})} onClick={onBack}>\n          <ChevronLeft size={24}/>\n        </span>\n        <a\n          className={cn('header-figmacn-logo', {'hide': logoHidden})}\n          href=\"https://figmacn.com/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <img src={`${process.env.PUBLIC_URL}/figmacn-logo.svg`} alt=\"figmacn logo\" ref={this.figmacnLogo}/>\n        </a>\n        <div className={cn('header-divider', {'hide': logoHidden})}/>\n        <a\n          className={cn('header-logo', {'hide': logoHidden && !isLocal})}\n          href=\"https://figmacn.com/handoff\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <img src={`${process.env.PUBLIC_URL}/logo.svg`} alt=\"logo\" ref={this.logo}/>\n        </a>\n        <span className=\"header-filename\">{documentName}</span>\n        <span className=\"header-space\"/>\n        {\n          this.hasNames() ?\n          <span className=\"header-pagename\">\n            {\n              !isComponent &&\n              <Fragment>{pageName}<span> / </span></Fragment>\n            }\n            {frameName}\n          </span> :\n          <span className=\"header-pagename\">Juuust Handoff</span>\n        }\n        <div className=\"header-operates\">\n          {\n            this.hasNames() &&\n            <Overlay\n              overlay={\n                <SettingsContext.Consumer>\n                  {({globalSettings, changeGlobalSettings}) => (\n                    <MarkSettings\n                      globalSettings={globalSettings}\n                      onSettingsChange={changeGlobalSettings}\n                    />\n                  )}\n                </SettingsContext.Consumer>\n              }\n              overlayClassName=\"header-overlay header-overlay-settings\"\n            >\n              <span title={t('settings')}>\n                <Settings size={14}/>\n              </span>\n            </Overlay>\n          }\n          <Overlay\n            trigger={['click']}\n            overlay={<Changelog/>}\n            align={{\n              offset: [30, -10]\n            }}\n            overlayClassName=\"header-overlay header-overlay-changelog\"\n          >\n            <span title={t('changelog')}>\n              <FileText size={14}/>\n            </span>\n          </Overlay>\n          <a title={t('help')} href={t('help link')} target=\"_blank\" rel=\"noopener noreferrer\">\n            <HelpCircle size={14}/>\n          </a>\n          <a title={t('feedback')} href=\"https://github.com/leadream/figma-handoff/issues\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <MessageCircle size={14}/>\n          </a>\n        </div>\n      </header>\n    )\n  }\n}\n\nexport default withTranslation('header')(Header)\n","import React from 'react'\nimport SettingsContext from 'contexts/SettingsContext'\nimport { withGlobalContextProvider } from 'contexts/GlobalContext'\nimport Entry from 'page/entry'\nimport Main from 'page/Main'\nimport Header from 'page/header'\nimport { walkFile, getFlattedFrames, getGlobalSettings, setGlobalSettings } from 'utils/helper'\nimport { DEFAULT_SETTINGS } from 'utils/const'\nimport 'assets/base.scss'\nimport './app.scss'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    let data = {}, components = [], styles = {}, exportSettings = [], pagedFrames = {},\n      isLocal = false, includeComponents = false, entryVisible\n    const { FILE_DATA, PAGED_FRAMES, SETTINGS } = window\n    const frames = getFlattedFrames(PAGED_FRAMES)\n    // local data (offline mode)\n    if (FILE_DATA) {\n      data = FILE_DATA\n      const parsedData = walkFile(data, frames)\n      components = parsedData.components\n      styles = parsedData.styles\n      exportSettings = parsedData.exportSettings\n      pagedFrames = PAGED_FRAMES\n      isLocal = true\n      includeComponents = SETTINGS.includeComponents\n      entryVisible = false\n    } else {\n      entryVisible = true\n    }\n    this.state = {\n      isLocal,\n      isMock: false,\n      includeComponents,\n      entryVisible,\n      data,\n      components,\n      styles,\n      exportSettings,\n      images: {},\n      names: {},\n      pagedFrames,\n      globalSettings: this.initializeGlobalSettings(SETTINGS),\n      backFromDemo: false\n    }\n  }\n  initializeGlobalSettings = (SETTINGS) => {\n    const localSettings = getGlobalSettings()\n    if (localSettings) {\n      return {...DEFAULT_SETTINGS, ...localSettings}\n    } else {\n      const globalSettings = {...DEFAULT_SETTINGS, ...SETTINGS}\n      setGlobalSettings(globalSettings)\n      return globalSettings\n    }\n  }\n  setSettings = (name, value) => {\n    setGlobalSettings(name, value, globalSettings => {\n      this.setState({ globalSettings })\n    })\n  }\n  handleDataGot = (fileData, components, styles, exportSettings, pagedFrames, imagesData) => {\n    this.setState({\n      entryVisible: false,\n      data: fileData,\n      components,\n      styles,\n      exportSettings,\n      pagedFrames,\n      images: imagesData,\n      isMock: !imagesData\n    })\n  }\n  handleComponentsOptionChange = includeComponents => {\n    this.setState({ includeComponents })\n  }\n  getNames = (frameName, pageName) => {\n    const { data } = this.state\n    this.setState({\n      names: {\n        documentName: data.name,\n        pageName: pageName || data.document.children[0].name,\n        frameName: frameName || data.document.children[0].children[0].name,\n        isComponent: !pageName\n      }\n    })\n  }\n  handleBack = () => {\n    this.setState({\n      entryVisible: true,\n      backFromDemo: true,\n      names: {}\n    })\n  }\n  render () {\n    const {\n      entryVisible, isLocal, isMock, includeComponents, data, components, styles,\n      exportSettings, images, pagedFrames, names, globalSettings, backFromDemo\n    } = this.state\n    return (\n      <div className=\"app-container\">\n        <SettingsContext.Provider value={{globalSettings, changeGlobalSettings: this.setSettings}}>\n          <Header\n            data={data}\n            images={images}\n            pagedFrames={pagedFrames}\n            isMock={isMock}\n            includeComponents={includeComponents}\n            isLocal={isLocal}\n            onBack={this.handleBack}\n            entryVisible={entryVisible}\n            {...names}\n          />\n        </SettingsContext.Provider>\n        {\n          entryVisible ?\n          <SettingsContext.Provider value={{globalSettings, changeGlobalSettings: this.setSettings}}>\n            <Entry\n              onDataGot={this.handleDataGot}\n              onComponentsOptionChange={this.handleComponentsOptionChange}\n              backFromDemo={backFromDemo}\n            />\n          </SettingsContext.Provider> :\n          <SettingsContext.Provider value={{globalSettings, changeGlobalSettings: this.setSettings}}>\n            <Main\n              isLocal={isLocal}\n              isMock={isMock}\n              includeComponents={includeComponents}\n              data={data}\n              components={components}\n              styles={styles}\n              exportSettings={exportSettings}\n              images={images}\n              pagedFrames={pagedFrames}\n              onNamesChange={this.getNames}\n              {...names}\n            />\n          </SettingsContext.Provider>\n        }\n      </div>\n    )\n  }\n}\n\nexport default withGlobalContextProvider(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { I18nextProvider } from 'react-i18next'\nimport i18n from './i18n'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <I18nextProvider i18n={i18n}>\n    <App />\n  </I18nextProvider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}